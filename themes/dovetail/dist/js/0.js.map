{"version":3,"sources":["webpack:///./src/modules/Customer/routes/api.js","webpack:///./src/modules/Customer/cards/SendReportToCrmButton.vue?79a6","webpack:///./src/modules/Customer/cards/SendReportToCrmButton.vue?8435","webpack:///src/modules/Customer/cards/SendReportToCrmButton.vue","webpack:///./src/modules/Customer/cards/SendReportToCrmButton.vue"],"names":["list","owned","store","show","id","restore","update","trashed","destroy","delete","overall","customer","user","month","financialRatio","indices","surveys","submit","crm","search","save","sendDocument","sendFinancial","reports","generate","download","props","data","computed","isOverall","this","type","isOverallDashboard","methods","sendAllScoresAndDocuments","dialog","sendAll","checklist","map","Object","assign","item","sendToCrm","getReportData","Promise","axios","get","resolve","response","reject","err","getElements","console","log","resource","v","elements","i","length","_elements","c","OverallScore","report","SustainabilityOverallScore","BSPI","FinancialOverallScore","FMPI","ProductivityOverallScore","PMPI","HROverallScore","HRPI","_","mapKeys","k","mapValues","d","l","getOverallScore","code","o","score","isSending","status","$store","dispatch","then","Id","toUpper","FileNo","Status","Comments","OverallComment","post","Code","sendDocumentToCrm","FileName","FileContentBase64","sendBothDataToCrm","sendBothScoresAndFile","sendFinancialScores","YearofFinancial","SubmissionDate","Revenue","parseInt","CostofGoodsSold","OtherExpenses","NonOperatingExpenses","OperatingLossProfit","Depreciation","Taxes","NetLossProfits","FixedAssets","TotalLiabilities","StockholdersEquity","Marketing","Rent","Salaries","LicensingFees","VisaEmploymentFees","sendFinancialDocument","dialogInfoClick","dialogClose","component","_vm","_h","$createElement","_c","_self","attrs","$vuetify","breakpoint","smAndDown","on","_v","_s","trans","model","value","callback","$$v","expression","_l","key","message","domProps","name","_e","staticClass","dialogInfo","$event","VBtn","VCard","VCardActions","VCardText","VContainer","VDialog","VIcon","VList","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VProgressCircular","VRow","VSpacer"],"mappings":"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","file":"dist/js/0.js","sourcesContent":["export default {\n  list: function () {\n    return '/api/v1/customers'\n  },\n\n  owned: function () {\n    return '/api/v1/customers/owned'\n  },\n\n  store: function () {\n    return '/api/v1/customers'\n  },\n\n  show: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  restore: function (id = null) {\n    return `/api/v1/customers/restore/${id}`\n  },\n\n  update: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  trashed: function () {\n    return '/api/v1/customers/trashed'\n  },\n\n  destroy: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  delete: function (id = null) {\n    return `/api/v1/customers/delete/${id}`\n  },\n\n  overall: function (customer, user, month) {\n    return `/api/v1/reports/overall/customer/${customer}/user/${user}?month=${month}`\n  },\n\n  financialRatio: function(customer) {\n    return `/api/v1/customer/${customer}/financial-ratios`\n  },\n\n  indices: {\n    list: function () {\n      return '/api/v1/indices'\n    },\n  },\n\n  surveys: {\n    submit: function (id) {\n      return `/api/v1/surveys/${id}/submit`\n    },\n\n    show: function (id) {\n      return `/api/v1/surveys/${id}`\n    },\n  },\n\n  crm: {\n    search: function (id) {\n      return `/api/v1/crm/customers/search/${id}`\n    },\n    update: function () {\n      return `/api/v1/crm/customers/update`\n    },\n    save: function () {\n      return `/api/v1/crm/customers/save`\n    },\n    sendDocument: function () {\n      return `/api/v1/crm/report/send`\n    },\n    sendFinancial: function () {\n      return `/api/v1/crm/financial/send`\n    },\n  },\n\n  reports: {\n    list: function (id) {\n      return `/api/v1/customers/${id}/reports`\n    },\n    generate: function (id) {\n      return `/api/v1/reports/${id}/generate`\n    },\n    download: function (id) {\n      return `/api/v1/reports/${id}/download`\n    },\n    delete: function (id) {\n      return `/api/v1/reports/${id}`\n    }\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isOverall)?_c('div',[_c('v-btn',{attrs:{\"loading\":_vm.isSending,\"disabled\":_vm.isSending,\"large\":\"\",\"block\":_vm.$vuetify.breakpoint.smAndDown,\"color\":\"primary\"},on:{\"click\":_vm.sendAllScoresAndDocuments}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-send\")]),_vm._v(\"\\n    \"+_vm._s(_vm.trans('Send to CRM'))+\"\\n  \")],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"420\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-list',_vm._l((_vm.checklist),function(item,i){return _c('v-list-item',{key:i,attrs:{\"title\":item.message}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.name)}})],1),_vm._v(\" \"),_c('v-list-item-action',[(item.status == 'pending')?_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-checkbox-blank-circle-outline\")]):(item.status == 'sending')?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"2\",\"size\":\"12\"}}):(item.status == 'done')?_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\",\"color\":\"success\"}},[_vm._v(\"mdi-check\")]):(item.status == 'error')?_c('div',[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\",\"color\":\"error\"}},[_vm._v(\"mdi-alert-circle\")])],1):_vm._e()],1)],1)}),1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":_vm.dialogClose}},[_vm._v(\"Close\")])],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(_vm.error_trigger)?_c('v-container',{staticClass:\"container py-6 px-auto\"},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"primary\",\"dark\":\"\",\"text\":\"\",\"block\":\"\"},on:{\"click\":_vm.dialogInfoClick}},[_vm._v(\"\\n            What Happened?\\n            \"),_c('v-icon',{attrs:{\"dark\":\"\",\"right\":\"\"}},[_vm._v(\"\\n              mdi-cancel\\n            \")])],1)],1)],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"800\",\"persistent\":\"\"},model:{value:(_vm.dialogInfo),callback:function ($$v) {_vm.dialogInfo=$$v},expression:\"dialogInfo\"}},[_c('v-card',{staticClass:\"pa-6\"},[_c('v-card-text',[_c('h3',[_vm._v(\"What happened?\")]),_vm._v(\" \"),_c('p',[_vm._v(\"There is an error when sending data from BEST application (SME) to CRM.\")]),_vm._v(\" \"),_c('h3',[_vm._v(\"Why it happened?\")]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"These are the possible reasons:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"mb-4\"},[_c('li',[_vm._v(\"The company may have no longer existed on the CRM. It could have been deleted, modified, or updated.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed in CRM, the company ID recorded in BEST and CRM may have been different.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"The company's status on the CRM is not on \"),_c('strong',[_vm._v(\"Approved Site Visit\")]),_vm._v(\" which makes it, perhaps, closed to receive data from BEST.\")])]),_vm._v(\" \"),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"What can be done?\")]),_vm._v(\" \"),_c('ul',{staticClass:\"mb-4\"},[_c('li',[_vm._v(\"Check if the company you are trying to send the data to is \"),_c('strong',[_vm._v(\"listed\")]),_vm._v(\" on the CRM. You may want to contact the person responsible for the CRM about it. Once confirmed, try to send the data again. \")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed on the CRM but still failed to send the data, perhaps the company’s \"),_c('strong',[_vm._v(\"status\")]),_vm._v(\" on the CRM is not Approved Site Visit, which prevents the CRM from receiving the data. To change its status, you may want to contact the person who handles the CRM records.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed on the CRM and has an Approved Site Visit status but still failed to send the data, perhaps the ID in BEST and CRM do not match. To update the company ID in BEST, go to \"),_c('strong',[_vm._v(\"Find Company\")]),_vm._v(\", search the company by entering the \"),_c('strong',[_vm._v(\"file number\")]),_vm._v(\", then click \"),_c('strong',[_vm._v(\"Start\")]),_vm._v(\". Once updated, try to send the data again.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"You may want to contact \"),_c('strong',[_vm._v(\"analytics@ssagroup.com\")]),_vm._v(\" if the steps mentioned above fail to work.\")])])]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.dialogInfo = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1):(_vm.isOverallDashboard)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.sendAllScoresAndDocuments}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-send\")]),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"420\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-list',{staticClass:\"d-flex flex-md-wrap\"},_vm._l((_vm.checklist),function(item,i){return _c('v-list-item',{key:i,attrs:{\"title\":item.message,\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.name)}}),_vm._v(\" \"),(item.status == 'error')?_c('div',[_c('v-list-item-subtitle',{staticClass:\"align-self-start\"},[_c('span',{staticClass:\"red--text\",domProps:{\"textContent\":_vm._s(item.message)}})])],1):_vm._e()],1),_vm._v(\" \"),_c('v-list-item-action',[(item.status == 'pending')?_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-checkbox-blank-circle-outline\")]):(item.status == 'sending')?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"2\",\"size\":\"12\"}}):(item.status == 'done')?_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\",\"color\":\"success\"}},[_vm._v(\"mdi-check\")]):(item.status == 'error')?_c('div',[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\",\"color\":\"error\"}},[_vm._v(\"mdi-alert-circle\")])],1):_vm._e()],1)],1)}),1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":_vm.dialogClose}},[_vm._v(\"Close\")])],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(_vm.error_trigger)?_c('v-container',{staticClass:\"container py-6 px-auto\"},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"primary\",\"dark\":\"\",\"text\":\"\",\"block\":\"\"},on:{\"click\":_vm.dialogInfoClick}},[_c('v-icon',{staticClass:\"ma-2\",attrs:{\"small\":\"\"}},[_vm._v(\"\\n              mdi-help-circle-outline\\n            \")]),_vm._v(\"\\n            What Happened?\\n          \")],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('v-spacer')],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"800\",\"persistent\":\"\"},model:{value:(_vm.dialogInfo),callback:function ($$v) {_vm.dialogInfo=$$v},expression:\"dialogInfo\"}},[_c('v-card',{staticClass:\"pa-6\"},[_c('v-card-text',[_c('h3',[_vm._v(\"What happened?\")]),_vm._v(\" \"),_c('p',[_vm._v(\"There is an error when sending data from BEST application (SME) to CRM.\")]),_vm._v(\" \"),_c('h3',[_vm._v(\"Why it happened?\")]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"These are the possible reasons:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"mb-4\"},[_c('li',[_vm._v(\"The company may have no longer existed on the CRM. It could have been deleted, modified, or updated.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed in CRM, the company ID recorded in BEST and CRM may have been different.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"The company's status on the CRM is not on \"),_c('strong',[_vm._v(\"Approved Site Visit\")]),_vm._v(\" which makes it, perhaps, closed to receive data from BEST.\")])]),_vm._v(\" \"),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"What can be done?\")]),_vm._v(\" \"),_c('ul',{staticClass:\"mb-4\"},[_c('li',[_vm._v(\"Check if the company you are trying to send the data to is \"),_c('strong',[_vm._v(\"listed\")]),_vm._v(\" on the CRM. You may want to contact the person responsible for the CRM about it. Once confirmed, try to send the data again. \")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed on the CRM but still failed to send the data, perhaps the company’s \"),_c('strong',[_vm._v(\"status\")]),_vm._v(\" on the CRM is not Approved Site Visit, which prevents the CRM from receiving the data. To change its status, you may want to contact the person who handles the CRM records.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"If the company is listed on the CRM and has an Approved Site Visit status but still failed to send the data, perhaps the ID in BEST and CRM do not match. To update the company ID in BEST, go to \"),_c('strong',[_vm._v(\"Find Company\")]),_vm._v(\", search the company by entering the \"),_c('strong',[_vm._v(\"file number\")]),_vm._v(\", then click \"),_c('strong',[_vm._v(\"Start\")]),_vm._v(\". Once updated, try to send the data again.\")]),_vm._v(\" \"),_c('li',[_vm._v(\"You may want to contact \"),_c('strong',[_vm._v(\"analytics@ssagroup.com\")]),_vm._v(\" if the steps mentioned above fail to work.\")])])]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.dialogInfo = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1):_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.sendToCrm}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-send\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendReportToCrmButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendReportToCrmButton.vue?vue&type=script&lang=js&\"","<template>\n  <div v-if=\"isOverall\">\n    <v-btn :loading=\"isSending\" :disabled=\"isSending\" @click=\"sendAllScoresAndDocuments\" large :block=\"$vuetify.breakpoint.smAndDown\" color=\"primary\">\n      <v-icon small left>mdi-send</v-icon>\n      {{ trans('Send to CRM') }}\n    </v-btn>\n    <v-dialog max-width=\"420\" v-model=\"dialog\" persistent>\n      <v-card>\n        <v-list>\n          <v-list-item v-for=\"(item, i) in checklist\" :key=\"i\" :title=\"item.message\">\n            <v-list-item-content>\n              <v-list-item-title v-text=\"item.name\"></v-list-item-title>\n            </v-list-item-content>\n            <v-list-item-action>\n              <v-icon v-if=\"item.status == 'pending'\" small left>mdi-checkbox-blank-circle-outline</v-icon>\n              <v-progress-circular v-else-if=\"item.status == 'sending'\" indeterminate width=\"2\" size=\"12\"></v-progress-circular>\n              <v-icon v-else-if=\"item.status == 'done'\" small left color=\"success\">mdi-check</v-icon>\n              <div v-else-if=\"item.status == 'error'\">\n                <v-icon small left color=\"error\">mdi-alert-circle</v-icon>\n              </div>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn depressed @click=\"dialogClose\">Close</v-btn>\n        </v-card-actions>\n\n        <v-spacer></v-spacer>\n\n        <v-container v-if=\"error_trigger\" class=\"container py-6 px-auto\">\n          <v-row align=\"center\" justify=\"center\">\n            <v-btn\n              large\n              color=\"primary\"\n              dark\n              text\n              block\n              @click=\"dialogInfoClick\">\n              What Happened?\n              <v-icon\n                dark\n                right\n                >\n                mdi-cancel\n              </v-icon>\n            </v-btn>\n          </v-row>\n        </v-container>\n\n      </v-card>\n\n    </v-dialog>\n\n    <v-dialog v-model=\"dialogInfo\" width=\"800\" persistent>\n      <v-card class=\"pa-6\">\n        <v-card-text>\n          <h3>What happened?</h3>\n          <p>There is an error when sending data from BEST application (SME) to CRM.</p>\n          <h3>Why it happened?</h3>\n          <p class=\"mb-0\">These are the possible reasons:</p>\n          <ul class=\"mb-4\">\n            <li>The company may have no longer existed on the CRM. It could have been deleted, modified, or updated.</li>\n            <li>If the company is listed in CRM, the company ID recorded in BEST and CRM may have been different.</li>\n            <li>The company's status on the CRM is not on <strong>Approved Site Visit</strong> which makes it, perhaps, closed to receive data from BEST.</li>\n          </ul>\n          <h3 class=\"mb-2\">What can be done?</h3>\n          <ul class=\"mb-4\">\n            <li>Check if the company you are trying to send the data to is <strong>listed</strong> on the CRM. You may want to contact the person responsible for the CRM about it. Once confirmed, try to send the data again. </li>\n            <li>If the company is listed on the CRM but still failed to send the data, perhaps the company’s <strong>status</strong> on the CRM is not Approved Site Visit, which prevents the CRM from receiving the data. To change its status, you may want to contact the person who handles the CRM records.</li>\n            <li>If the company is listed on the CRM and has an Approved Site Visit status but still failed to send the data, perhaps the ID in BEST and CRM do not match. To update the company ID in BEST, go to <strong>Find Company</strong>, search the company by entering the <strong>file number</strong>, then click <strong>Start</strong>. Once updated, try to send the data again.</li>\n            <li>You may want to contact <strong>analytics@ssagroup.com</strong> if the steps mentioned above fail to work.</li>\n          </ul>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n           <v-btn depressed @click=\"dialogInfo = false\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n\n  <v-btn v-else-if=\"isOverallDashboard\" @click=\"sendAllScoresAndDocuments\" icon>\n    <v-icon small>mdi-send</v-icon>\n\n     <v-dialog max-width=\"420\" v-model=\"dialog\" persistent>\n\n      <v-card>\n        <v-list class=\"d-flex flex-md-wrap\">\n          <v-list-item v-for=\"(item, i) in checklist\" :key=\"i\" :title=\"item.message\" two-line>\n            <v-list-item-content>\n              <v-list-item-title v-text=\"item.name\"></v-list-item-title>\n\n              <div v-if=\"item.status == 'error'\">\n                <v-list-item-subtitle class=\"align-self-start\">\n                  <span v-text=\"item.message\" class=\"red--text\"></span>\n                </v-list-item-subtitle>\n              </div>\n            </v-list-item-content>\n\n            <v-list-item-action>\n              <v-icon v-if=\"item.status == 'pending'\" small left>mdi-checkbox-blank-circle-outline</v-icon>\n              <v-progress-circular v-else-if=\"item.status == 'sending'\" indeterminate width=\"2\" size=\"12\"></v-progress-circular>\n              <v-icon v-else-if=\"item.status == 'done'\" small left color=\"success\">mdi-check</v-icon>\n              <div v-else-if=\"item.status == 'error'\">\n                <v-icon small left color=\"error\">mdi-alert-circle</v-icon>\n              </div>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn depressed @click=\"dialogClose\">Close</v-btn>\n        </v-card-actions>\n\n        <v-spacer></v-spacer>\n\n        <v-container v-if=\"error_trigger\" class=\"container py-6 px-auto\">\n          <v-row align=\"center\" justify=\"center\">\n            <v-btn\n              large  color=\"primary\"\n              dark\n              text\n              block\n              @click=\"dialogInfoClick\">\n              <v-icon class=\"ma-2\" small>\n                mdi-help-circle-outline\n              </v-icon>\n              What Happened?\n            </v-btn>\n          </v-row>\n        </v-container>\n\n        <v-spacer></v-spacer>\n\n      </v-card>\n\n\n    </v-dialog>\n\n\n    <v-dialog v-model=\"dialogInfo\" width=\"800\" persistent>\n      <v-card class=\"pa-6\">\n        <v-card-text>\n          <h3>What happened?</h3>\n          <p>There is an error when sending data from BEST application (SME) to CRM.</p>\n          <h3>Why it happened?</h3>\n          <p class=\"mb-0\">These are the possible reasons:</p>\n          <ul class=\"mb-4\">\n            <li>The company may have no longer existed on the CRM. It could have been deleted, modified, or updated.</li>\n            <li>If the company is listed in CRM, the company ID recorded in BEST and CRM may have been different.</li>\n            <li>The company's status on the CRM is not on <strong>Approved Site Visit</strong> which makes it, perhaps, closed to receive data from BEST.</li>\n          </ul>\n          <h3 class=\"mb-2\">What can be done?</h3>\n          <ul class=\"mb-4\">\n            <li>Check if the company you are trying to send the data to is <strong>listed</strong> on the CRM. You may want to contact the person responsible for the CRM about it. Once confirmed, try to send the data again. </li>\n            <li>If the company is listed on the CRM but still failed to send the data, perhaps the company’s <strong>status</strong> on the CRM is not Approved Site Visit, which prevents the CRM from receiving the data. To change its status, you may want to contact the person who handles the CRM records.</li>\n            <li>If the company is listed on the CRM and has an Approved Site Visit status but still failed to send the data, perhaps the ID in BEST and CRM do not match. To update the company ID in BEST, go to <strong>Find Company</strong>, search the company by entering the <strong>file number</strong>, then click <strong>Start</strong>. Once updated, try to send the data again.</li>\n            <li>You may want to contact <strong>analytics@ssagroup.com</strong> if the steps mentioned above fail to work.</li>\n          </ul>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n           <v-btn depressed @click=\"dialogInfo = false\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-btn>\n\n  <v-btn v-else @click=\"sendToCrm\" icon>\n    <v-icon small>mdi-send</v-icon>\n  </v-btn>\n</template>\n\n\n\n<script>\nimport $api from '@/modules/Customer/routes/api'\n\nexport default {\n  props: ['customer', 'user', 'type', 'month'],\n\n  data: () => ({\n    isSending: false,\n    sendAll: false,\n    checklist: [\n      { message: '', name: trans('Sending Overall Scores'), icon: 'mdi-cube-send', status: 'pending' },\n      { message: '', name: trans('Sending Overall Document'), icon: 'mdi-file-send', status: 'pending' },\n      // { message: '', name: trans('Sending Financial Scores'), icon: 'mdi-cube-send', status: 'pending' },\n      // { message: '', name: trans('Sending Financial Document'), icon: 'mdi-file-send', status: 'pending' },\n    ],\n    error_trigger: false,\n    dialog: false,\n    dialogInfo: false,\n    sendBothScoresAndFile: false,\n    resource: {\n      data: {}\n    },\n  }),\n\n  computed: {\n    isOverall () {\n      return this.type == 'overall'\n    },\n\n    isOverallDashboard() {\n      return this.type == 'overall-report-dashboard'\n    },\n  },\n\n  methods: {\n    sendAllScoresAndDocuments () {\n      this.dialog = true;\n      this.sendAll = true;\n\n      this.checklist = this.checklist.map((item) => {\n        return Object.assign(item, {status: 'pending', message: ''});\n      });\n\n      this.sendToCrm();\n      // this.sendFinancialScores();\n    },\n\n    getReportData () {\n      return new Promise((resolve, reject) => {\n        let customer = this.customer\n        let user = this.user\n        var month = this.month\n\n        axios.get(\n          `/api/v1/reports/overall/customer/${customer}/user/${user}?month=${month}`\n        ).then(response => {\n          resolve(response)\n        }).catch(err => {\n          reject(err)\n        })\n      })\n    },\n\n    getElements () {\n      console.log(this.resource.data)\n      let report = this.resource.data.report.value || {}\n      let _elements = {}\n\n      if (this.isOverall || this.isOverallDashboard) {\n        let elements = _.map(report.indices, function (v, k) {\n          return v.elements\n        })\n\n        for (var i = elements.length - 1; i >= 0; i--) {\n          let c = elements[i]\n\n          _elements = Object.assign(_elements, c, {\n            OverallScore: report['overall:score'] * 100,\n            SustainabilityOverallScore: report.indices.BSPI['overall:total']/100,\n            FinancialOverallScore: report.indices.FMPI['overall:total']/100,\n            ProductivityOverallScore: report.indices.PMPI['overall:total']/100,\n            HROverallScore: report.indices.HRPI['overall:total']/100,\n          })\n        }\n\n      } else {\n        _elements = report['current:index'].elements;\n      }\n\n      _elements = _.mapKeys(_elements, function (v, k) { return k.replace(/[^a-zA-Z]/g, ''); });\n      _elements = _.mapKeys(_elements, function (v, k) { return k.replace(/\\s+/g, ''); });\n\n      _elements = _.mapValues(_elements, function (v, k) { return v * 100; });\n\n      _elements['EmployeeEngagement'] = _elements['EmployeeEngagementCommunication'] || 0;\n      _elements['CareerManagement'] = _elements['CareerTalentManagement'] || 0;\n\n      let d = report['overall:enablers']['chart'].data\n      let l = report['overall:enablers']['chart'].label\n\n      for (var i = d.length - 1; i >= 0; i--) {\n        let c = d[i]\n        _elements[l[i]] = c || 0;\n      }\n\n      // _elements['Documentation'] = report['overall:enablers']['enablers']['Documentation'] || '';\n      // _elements['Talent'] = report['overall:enablers']['enablers']['Talent'] || '';\n      // _elements['Technology'] = report['overall:enablers']['enablers']['Technology'] || '';\n      _elements['WorkflowProcesses'] = _elements['Workflow Processess'] || '';\n\n\n      return _elements;\n    },\n\n    getOverallScore () {\n      let score = this.resource.data.report.value['current:index']['overall:total'];\n      let pindex = this.resource.data.report.value['current:index'];\n      let code = 'OverallScore';\n\n      switch (pindex['pindex:code']) {\n        case 'FMPI':\n          code = 'Financial'+code;\n          break;\n\n        case 'PMPI':\n          code = 'Productivity'+code;\n          break;\n\n        case 'HRPI':\n          code = 'HR'+code;\n          break;\n\n        case 'BSPI':\n          code = 'Sustainability'+code;\n          break;\n      }\n\n      let o = {};\n      o[code] = score;\n\n      return o;\n    },\n\n    sendToCrm () {\n      this.isSending = true;\n      this.checklist[0].status = 'sending';\n\n      this.$store.dispatch('snackbar/show', { button: { show: false }, timeout: 0, text: 'Sending report to CRM. Please wait...'});\n\n      this.getReportData().then(response => {\n        this.resource.data = response.data\n\n        if (! this.resource.data.customer) {\n          this.$store.dispatch('snackbar/show', { text: 'No report data found.'});\n\n          return false;\n        }\n\n        let data = Object.assign(this.getOverallScore(), this.getElements(), {\n          Id: _.toUpper(this.resource.data.customer.token),\n          FileNo: this.resource.data.customer.filenumber,\n          Status: 100000006,\n          OverallScore: this.resource.data.report.value['overall:score'] * 100 || null,\n          // FileContentBase64: this.resource.data.report.fileContentBase64,\n          Comments: this.resource.data['overall:comment'] || 'No comment',\n          OverallComment: this.resource.data.report.value['overall:comment'] || null,\n          'Lessons Learnt': this.resource.data.report.value['overall:comment'] || null,\n        })\n\n        this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending report to CRM. Establishing connection to CRM...'});\n\n        console.log('Sending overall scores...', data);\n\n        axios.post(\n          `/api/v1/crm/customers/save`, data\n        ).then(response => {\n          this.$store.dispatch('snackbar/hide')\n          this.checklist[0].status = 'done';\n\n          if (response.data.Code == 1) {\n            this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Successfully sent to CRM')})\n          } else {\n            this.checklist[0].status = 'error';\n            this.checklist[0].message = response.data.Message;\n            this.error_trigger = true;\n\n            // this.$store.dispatch('dialog/error', {\n            //   show: true,\n            //   width: 400,\n            //   buttons: { cancel: { show: false } },\n            //   title: 'Returned a Code ' + response.data.Code,\n            //   text: response.data.Message,\n            // })\n          }\n\n          if (this.sendBothScoresAndFile) {\n            // this.sendDocumentToCrm();\n          }\n        }).catch(err => {\n          this.checklist[0].status = 'error';\n          this.checklist[0].message = err.message;\n          this.error_trigger = true;\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\n        }).finally(() => {\n          this.isSending = false;\n\n          if (this.sendAll) {\n            this.sendDocumentToCrm();\n          }\n        })\n      }).catch(err => {\n        console.log('err', err)\n      })\n    },\n\n    sendDocumentToCrm () {\n      this.isSending = true;\n      this.checklist[1].status = 'sending';\n\n      this.getReportData().then(response => {\n        this.resource.data = response.data\n\n        let data = {\n          Id: _.toUpper(this.resource.data.customer.token),\n          FileName: \"Overall Scores\",\n          FileContentBase64: this.resource.data['overall:report'] || 'empty',\n        }\n\n        console.log('Sending overall document...', data);\n\n        this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending Overall Report Document to CRM. Establishing connection to CRM...'});\n\n        axios.post(\n          $api.crm.sendDocument(), data\n        ).then(response => {\n          this.$store.dispatch('snackbar/hide')\n          this.checklist[1].status = 'done';\n\n          if (response.data.Code == 1) {\n            this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('File Successfully sent to CRM')})\n          } else {\n            this.checklist[1].status = 'error';\n            this.checklist[1].message = response.data.Message;\n            this.error_trigger = true;\n            // this.$store.dispatch('dialog/error', {\n            //   show: true,\n            //   width: 400,\n            //   buttons: { cancel: { show: false } },\n            //   title: 'Returned a Code ' + response.data.Code,\n            //   text: response.data.Message,\n            // })\n          }\n        }).catch(err => {\n          this.checklist[1].status = 'error';\n          this.checklist[1].message = err.message;\n          this.error_trigger = true;\n\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\n        }).finally(() => {\n          this.isSending = false;\n\n          // if (this.sendAll) {\n          //   this.sendFinancialScores();\n          // }\n        })\n      });\n    },\n\n    sendBothDataToCrm () {\n      this.sendBothScoresAndFile = true\n      this.sendToCrm()\n    },\n\n    sendFinancialScores () {\n      this.checklist[2].status = 'sending';\n      this.$store.dispatch('snackbar/show', { button: { show: false }, timeout: 0, text: 'Sending report to CRM. Please wait...'});\n\n      this.getReportData().then(response => {\n        this.resource.data = response.data\n        console.log(this.resource.data)\n\n        if (! this.resource.data.customer) {\n          this.$store.dispatch('snackbar/show', { text: 'No report data found.'});\n\n          return false;\n        }\n\n        // let data = {\n        //   FileNo: this.resource.data.customer.filenumber,\n        //   YearofFinancial: this.resource.data.customer.metadata ? this.resource.data.customer.metadata.years.Years.Year3 : 'No year was set',\n        //   SubmissionDate: this.resource.data.profit_and_loss['Submission Date'],\n        //   Revenue: JSON.stringify(this.resource.data.profit_and_loss.Revenue),\n        //   CostofGoodsSold: JSON.stringify(this.resource.data.profit_and_loss.CostOfGoodsSold),\n        //   OtherExpenses: JSON.stringify(this.resource.data.profit_and_loss.OtherExpenses),\n        //   NonOperatingExpenses: JSON.stringify(this.resource.data.profit_and_loss.OtherExpenses['Non-Operating expenses (NOE)'] || {}),\n        //   OperatingLossProfit: JSON.stringify(this.resource.data.profit_and_loss.OtherExpenses['Operating (loss)/profit'] || {}),\n        //   Depreciation: JSON.stringify(this.resource.data.profit_and_loss.OtherExpenses['Depreciation'] || {}),\n        //   Taxes: JSON.stringify(this.resource.data.profit_and_loss.OtherExpenses['Taxes'] || {}),\n        //   NetLossProfits: this.resource.data.profit_and_loss.NetProfit.Year3,\n        //   FixedAssets: JSON.stringify(this.resource.data.profit_and_loss.FixedAssets['Fixed Assets']),\n        //   TotalLiabilities: JSON.stringify(this.resource.data.profit_and_loss.FixedAssets['Total Liabilities']),\n        //   StockholdersEquity: JSON.stringify(this.resource.data.profit_and_loss.FixedAssets[\"Stockholder's Equity\"]),\n        //   Marketing: JSON.stringify(this.resource.data.profit_and_loss.Marketing),\n        //   Rent: JSON.stringify(this.resource.data.profit_and_loss.Rent),\n        //   Salaries: JSON.stringify(this.resource.data.profit_and_loss.Salaries),\n        //   LicensingFees: JSON.stringify(this.resource.data.profit_and_loss['Licensing Fees']),\n        //   VisaEmploymentFees: JSON.stringify(this.resource.data.profit_and_loss['Visa / Employment Fees']),\n        // }\n\n\n        let data = {\n          FileNo: this.resource.data.customer.filenumber,\n          YearofFinancial: this.resource.data.customer.metadata ? this.resource.data.customer.metadata.years.Years.Year3 : 'No year was set',\n          SubmissionDate: this.resource.data.profit_and_loss['Submission Date'] || this.resource.data.report.updated_at,\n          Revenue: parseInt(this.resource.data.profit_and_loss.Revenue.Year3 || 0),\n          CostofGoodsSold: parseInt(this.resource.data.profit_and_loss.CostOfGoodsSold.Year3 || 0),\n          OtherExpenses: parseInt(this.resource.data.profit_and_loss.OtherExpenses.Year3 || 0),\n          NonOperatingExpenses: parseInt(this.resource.data.profit_and_loss.OtherExpenses['Non-Operating expenses (NOE)'].Year3 || 0),\n          OperatingLossProfit: parseInt(this.resource.data.profit_and_loss.OtherExpenses['Operating (loss)/profit'].Year3 || 0),\n          Depreciation: parseInt(this.resource.data.profit_and_loss.OtherExpenses['Depreciation'].Year3 || 0),\n          Taxes: parseInt(this.resource.data.profit_and_loss.OtherExpenses['Taxes'].Year3 || 0),\n          NetLossProfits: parseInt(this.resource.data.profit_and_loss.NetProfit.Year3 || 0),\n          FixedAssets: parseInt(this.resource.data.profit_and_loss.FixedAssets['Fixed Assets'].Year3 || 0),\n          TotalLiabilities: parseInt(this.resource.data.profit_and_loss.FixedAssets['Total Liabilities'].Year3 || 0),\n          StockholdersEquity: parseInt(this.resource.data.profit_and_loss.FixedAssets[\"Stockholders' Equity\"].Year3 || 0),\n          Marketing: parseInt(this.resource.data.profit_and_loss.Marketing.Year3 || 0),\n          Rent: parseInt(this.resource.data.profit_and_loss.Rent.Year3 || 0),\n          Salaries: parseInt(this.resource.data.profit_and_loss.Salaries.Year3 || 0),\n          LicensingFees: parseInt(this.resource.data.profit_and_loss['Licensing Fees'].Year3 || 0),\n          VisaEmploymentFees: parseInt(this.resource.data.profit_and_loss['Visa / Employment Fees'].Year3 || 0),\n        }\n\n\n        console.log('Sending financial scores...', data);\n\n        this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending report to CRM. Establishing connection to CRM...'});\n\n        axios.post(\n          $api.crm.sendFinancial(), data\n        ).then(response => {\n          this.$store.dispatch('snackbar/hide')\n          this.checklist[2].status = 'done';\n\n          if (response.data.Code == 1) {\n            this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Successfully sent to CRM')})\n          } else {\n            this.checklist[2].status = 'error';\n            this.checklist[2].message = response.data.Message;\n            // this.$store.dispatch('dialog/error', {\n            //   show: true,\n            //   width: 400,\n            //   buttons: { cancel: { show: false } },\n            //   title: 'Returned a Code ' + response.data.Code,\n            //   text: response.data.Message,\n            // })\n          }\n        }).catch(err => {\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\n          this.checklist[2].status = 'error';\n        }).finally(() => {\n          // if (this.sendAll) {\n          //   this.sendFinancialDocument();\n          // }\n        })\n      }).catch(err => {\n        console.log('err', err)\n      })\n    },\n\n    sendFinancialDocument () {\n      this.checklist[3].status = 'sending';\n\n      this.getReportData().then(response => {\n        this.resource.data = response.data\n        console.log(this)\n        let data = {\n          Id: _.toUpper(this.resource.data.customer.token),\n          FileName: \"Financial Ratios\",\n          FileContentBase64: this.resource.data['report:financial'] || 'empty',\n        }\n\n        console.log('Sending financial document...', data);\n\n        this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending Financial Report Document to CRM. Establishing connection...'});\n\n        axios.post(\n          $api.crm.sendDocument(), data\n        ).then(response => {\n          console.log('data', response.data);\n          this.$store.dispatch('snackbar/hide')\n          this.checklist[3].status = 'done';\n\n          if (response.data.Code == 1) {\n            this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('File Successfully sent to CRM')})\n          } else {\n            this.checklist[3].status = 'error';\n            this.checklist[3].message = response.data.Message;\n            // this.$store.dispatch('dialog/error', {\n            //   show: true,\n            //   width: 400,\n            //   buttons: { cancel: { show: false } },\n            //   title: 'Returned a Code ' + response.data.Code,\n            //   text: response.data.Message,\n            // })\n          }\n        }).catch(err => {\n          this.checklist[3].status = 'error';\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\n        }).finally(() => {\n          // this.dialog = false\n        })\n      })\n    },\n\n    dialogInfoClick() {\n        this.dialogInfo = true;\n    },\n\n    dialogClose() {\n        this.dialog = false;\n        this.error_trigger = false;\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./SendReportToCrmButton.vue?vue&type=template&id=0eb29ab6&\"\nimport script from \"./SendReportToCrmButton.vue?vue&type=script&lang=js&\"\nexport * from \"./SendReportToCrmButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VContainer,VDialog,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VProgressCircular,VRow,VSpacer})\n"],"sourceRoot":""}
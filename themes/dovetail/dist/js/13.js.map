{"version":3,"sources":["webpack:///./src/modules/Customer/Owned.vue?021f","webpack:///./src/modules/Customer/Owned.vue?a5bf","webpack:///src/modules/Customer/Owned.vue","webpack:///./src/modules/Customer/Owned.vue","webpack:///./src/modules/Customer/routes/api.js"],"names":["data","computed","options","per_page","this","dataset","itemsPerPage","page","sort","sortBy","undefined","order","sortDesc","mounted","changeOptionsFromRouterQueries","methods","$route","query","parseInt","search","tabletoolbar","optionsChanged","getPaginatedData","params","Object","assign","loading","axios","get","api","list","goToShowCustomerPage","_","debounce","event","srcElement","value","isSearching","searching","focusSearchBar","$refs","focus","watch","component","_vm","_h","$createElement","_c","_self","attrs","trans","_v","scopedSlots","_u","key","fn","staticClass","_s","__","proxy","name","on","$event","headers","NaN","meta","total","toggleBulkEdit","$set","_l","j","i","ref","item","_g","domProps","$t","updated_at","modified","model","callback","$$v","expression","VBtn","VCard","VDataTable","VIcon","VSkeletonLoader","VSlideYReverseTransition","VSlideYTransition","VTooltip","show","id"],"mappings":"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","file":"dist/js/13.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('admin',[_c('metatag',{attrs:{\"title\":_vm.trans('My Customers')}}),_vm._v(\" \"),_c('page-header',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"mt-1\"},[_vm._v(_vm._s(_vm.__('My Customers')))])]},proxy:true},{key:\"action\",fn:function(){return [_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"primary\",\"exact\":\"\",\"to\":{ name: 'customers.search' }}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-file-document-box-search-outline\")]),_vm._v(\"\\n        \"+_vm._s(_vm.trans('Generate Report'))+\"\\n      \")],1)]},proxy:true}])}),_vm._v(\" \"),_c('v-card',[_c('toolbar-menu',{attrs:{\"items\":_vm.tabletoolbar,\"downloadable\":\"\",\"trashable\":\"\"},on:{\"update:items\":function($event){_vm.tabletoolbar=$event},\"update:search\":_vm.search}}),_vm._v(\" \"),_c('v-slide-y-reverse-transition',{attrs:{\"mode\":\"out-in\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.dataset.headers,\"items\":_vm.dataset.data,\"loading\":_vm.dataset.loading,\"mobile-breakpoint\":NaN,\"options\":_vm.dataset.options,\"server-items-length\":_vm.dataset.meta.total,\"show-select\":_vm.tabletoolbar.toggleBulkEdit,\"color\":\"primary\",\"item-key\":\"id\"},on:{\"update:options\":[function($event){return _vm.$set(_vm.dataset, \"options\", $event)},_vm.optionsChanged]},scopedSlots:_vm._u([{key:\"progress\",fn:function(){return [_c('span')]},proxy:true},{key:\"loading\",fn:function(){return [_c('v-slide-y-transition',{attrs:{\"mode\":\"out-in\"}},[_c('div',_vm._l((_vm.dataset.options.itemsPerPage),function(j,i){return _c('div',{key:i,staticClass:\"d-flex\"},[_c('v-skeleton-loader',{staticClass:\"px-4 py-3\",attrs:{\"width\":\"100%\",\"type\":\"table-row\"}})],1)}),0)])]},proxy:true},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex align-items-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"mt-1\"},on),[_c('router-link',{staticClass:\"text-no-wrap text--decoration-none\",attrs:{\"tag\":\"a\",\"exact\":\"\",\"to\":_vm.goToShowCustomerPage(item)},domProps:{\"textContent\":_vm._s(item.name)}})],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('View Details')))])])],1)]}},{key:\"item.updated_at\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-no-wrap\",attrs:{\"title\":item.updated_at}},[_vm._v(_vm._s(_vm.trans(item.modified)))])]}}]),model:{value:(_vm.dataset.selected),callback:function ($$v) {_vm.$set(_vm.dataset, \"selected\", $$v)},expression:\"dataset.selected\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Owned.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Owned.vue?vue&type=script&lang=js&\"","<template>\n  <admin>\n    <metatag :title=\"trans('My Customers')\"></metatag>\n\n    <page-header>\n      <template v-slot:title>\n        <div class=\"mt-1\">{{ __('My Customers') }}</div>\n      </template>\n      <template v-slot:action>\n        <v-btn large color=\"primary\" exact :to=\"{ name: 'customers.search' }\">\n          <v-icon small left>mdi-file-document-box-search-outline</v-icon>\n          {{ trans('Generate Report') }}\n        </v-btn>\n      </template>\n    </page-header>\n\n    <!-- Data table -->\n    <v-card>\n      <toolbar-menu\n        :items.sync=\"tabletoolbar\"\n        downloadable\n        trashable\n        @update:search=\"search\"\n        >\n      </toolbar-menu>\n      <v-slide-y-reverse-transition mode=\"out-in\">\n        <v-data-table\n          :headers=\"dataset.headers\"\n          :items=\"dataset.data\"\n          :loading=\"dataset.loading\"\n          :mobile-breakpoint=\"NaN\"\n          :options.sync=\"dataset.options\"\n          :server-items-length=\"dataset.meta.total\"\n          :show-select=\"tabletoolbar.toggleBulkEdit\"\n          @update:options=\"optionsChanged\"\n          color=\"primary\"\n          item-key=\"id\"\n          v-model=\"dataset.selected\"\n          >\n          <template v-slot:progress><span></span></template>\n\n          <template v-slot:loading>\n            <v-slide-y-transition mode=\"out-in\">\n              <div>\n                <div class=\"d-flex\" v-for=\"(j,i) in dataset.options.itemsPerPage\" :key=\"i\">\n                  <v-skeleton-loader\n                    class=\"px-4 py-3\"\n                    width=\"100%\"\n                    type=\"table-row\"\n                  ></v-skeleton-loader>\n                </div>\n              </div>\n            </v-slide-y-transition>\n          </template>\n\n          <template v-slot:item.name=\"{ item }\">\n            <div class=\"d-flex align-items-center\">\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on }\">\n                  <span class=\"mt-1\" v-on=\"on\"><router-link tag=\"a\" exact :to=\"goToShowCustomerPage(item)\" v-text=\"item.name\" class=\"text-no-wrap text--decoration-none\"></router-link></span>\n                </template>\n                <span>{{ $t('View Details') }}</span>\n              </v-tooltip>\n            </div>\n          </template>\n\n          <!-- Created & Modified -->\n          <template v-slot:item.updated_at=\"{ item }\">\n            <span class=\"text-no-wrap\" :title=\"item.updated_at\">{{ trans(item.modified) }}</span>\n          </template>\n          <!-- Created & Modified -->\n        </v-data-table>\n      </v-slide-y-reverse-transition>\n    </v-card>\n    <!-- Data table -->\n  </admin>\n</template>\n\n<script>\nimport $api from './routes/api'\nimport man from '@/components/Icons/ManThrowingAwayPaperIcon.vue'\n\nexport default {\n  data: () => ({\n    api: $api,\n\n    dataset: {\n      loading: true,\n      search: null,\n      options: {\n        page: 1,\n        pageCount: 0,\n        itemsPerPage: 10,\n      },\n      meta: {},\n      headers: [\n        { text: trans('Name'), align: 'left', value: 'name' },\n        { text: trans('Reference Number'), value: 'refnum' },\n        { text: trans('Status'), value: 'status' },\n        { text: trans('Last Modified'), align: 'center', value: 'updated_at' },\n      ],\n      data: []\n    },\n\n    tabletoolbar: {\n      bulkCount: 0,\n      isSearching: false,\n      search: null,\n      listGridView: false,\n      toggleBulkEdit: false,\n      toggleTrash: false,\n      verticaldiv: false,\n    },\n  }),\n\n  computed: {\n    options: function () {\n      return {\n        per_page: this.dataset.options.itemsPerPage,\n        page: this.dataset.options.page,\n        sort: this.dataset.options.sortBy[0] || undefined,\n        order: this.dataset.options.sortDesc[0] || false ? 'desc' : 'asc',\n      }\n    },\n  },\n\n  mounted: function () {\n    this.changeOptionsFromRouterQueries()\n  },\n\n  methods: {\n    changeOptionsFromRouterQueries () {\n      this.options.per_page = this.$route.query.per_page\n      this.options.page = parseInt(this.$route.query.page)\n      this.options.search = this.$route.query.search\n      this.dataset.search = this.options.search\n      this.tabletoolbar.search = this.options.search\n    },\n\n    optionsChanged (options) {\n      this.getPaginatedData(this.options, 'optionsChaned')\n    },\n\n    getPaginatedData: function (params = null, caller = null) {\n      // console.log(`getPagintedData Called by ${caller}`);\n      params = Object.assign(params ? params : this.$route.query, { search: this.dataset.search })\n      this.dataset.loading = true\n      axios.get(this.api.list(), { params })\n        .then(response => {\n          this.dataset = Object.assign({}, this.dataset, response.data)\n          this.dataset.options = Object.assign(this.dataset.options, response.data.meta, params)\n          this.dataset.loading = false\n          this.$router.push({query: Object.assign({}, this.$route.query, params)}).catch(err => {})\n        })\n        .catch(err => {\n          this.$store.dispatch('dialog/error', {\n            show: true,\n            width: 400,\n            color: 'error',\n            buttons: { cancel: { show: false } },\n            title: trans('Whoops! An error occured'),\n            text: err.response.data.message,\n          })\n        })\n        .finally(() => {\n          this.dataset.data.map(function (data) {\n            return Object.assign(data, {loading: false})\n          })\n        })\n    },\n\n    goToShowCustomerPage (customer) {\n      return { name: 'customers.show', params: { id: customer.id, slug: customer.customername } }\n    },\n\n    search: _.debounce(function (event) {\n      this.dataset.search = event.srcElement.value || ''\n      this.tabletoolbar.isSearching = false\n      if (this.dataset.searching) {\n        this.getPaginatedData(this.options, 'search')\n        this.dataset.searching = false\n      }\n    }, 200),\n\n    focusSearchBar () {\n      this.$refs['tablesearch'].focus()\n    },\n  },\n\n  watch: {\n    'dataset.search': function (val) {\n      this.dataset.searching = true\n    },\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./Owned.vue?vue&type=template&id=25368dc5&\"\nimport script from \"./Owned.vue?vue&type=script&lang=js&\"\nexport * from \"./Owned.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSlideYReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSlideYTransition } from 'vuetify/lib/components/transitions';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VDataTable,VIcon,VSkeletonLoader,VSlideYReverseTransition,VSlideYTransition,VTooltip})\n","export default {\n  list: function () {\n    return '/api/v1/customers'\n  },\n\n  show: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n}\n"],"sourceRoot":""}
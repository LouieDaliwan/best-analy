{"version":3,"sources":["webpack:///./src/modules/Customer/routes/api.js","webpack:///./src/modules/Customer/Dashboard.vue?9654","webpack:///src/modules/Customer/Dashboard.vue","webpack:///./src/modules/Customer/Dashboard.vue?91c8","webpack:///./src/modules/Customer/Dashboard.vue","webpack:///./src/core/Models/Resource.js"],"names":["list","owned","store","show","id","restore","update","trashed","destroy","delete","overall","customer","user","month","financialRatio","financialRatioDelete","item","customer_id","indices","surveys","submit","crm","search","save","sendDocument","sendFinancial","sendUpdateVisit","sendAddFinancialsByFileNo","reports","generate","download","props","components","GeneralInformation","SmeRating","KeyFinancialRatio","LatestReport","data","methods","getResource","Promise","all","created","this","component","_vm","_h","$createElement","_c","_self","attrs","resource","name","_v","to","text","trans","scopedSlots","_u","key","fn","domProps","_s","proxy","details","metadata","project_type","_e","staticClass","params","query","tab","model","value","callback","$$v","$set","expression","keyFinRation","VAlert","VBtn","VCol","VRow","Resource","isFetching","isLoading","isPrestine","isValid","errors","hasData","val","elem","formData","FormData","append"],"mappings":"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","file":"dist/js/14.js","sourcesContent":["export default {\n  list: function () {\n    return '/api/v1/customers'\n  },\n\n  owned: function () {\n    return '/api/v1/customers/owned'\n  },\n\n  store: function () {\n    return '/api/v1/customers'\n  },\n\n  show: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  restore: function (id = null) {\n    return `/api/v1/customers/restore/${id}`\n  },\n\n  update: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  trashed: function () {\n    return '/api/v1/customers/trashed'\n  },\n\n  destroy: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  delete: function (id = null) {\n    return `/api/v1/customers/delete/${id}`\n  },\n\n  overall: function (customer, user, month) {\n    return `/api/v1/reports/overall/customer/${customer}/user/${user}?month=${month}`\n  },\n\n  financialRatio: function(customer) {\n    return `/api/v1/customer/${customer}/financial-ratios`\n  },\n\n  financialRatioDelete: function(item) {\n    return `/api/v1/customers/${item.customer_id}/ratios/${item.id}/delete`\n  },\n\n  indices: {\n    list: function () {\n      return '/api/v1/indices'\n    },\n  },\n\n  surveys: {\n    submit: function (id) {\n      return `/api/v1/surveys/${id}/submit`\n    },\n\n    show: function (id) {\n      return `/api/v1/surveys/${id}`\n    },\n  },\n\n  crm: {\n    search: function (id) {\n      return `/api/v1/crm/customers/search/${id}`\n    },\n    update: function () {\n      return `/api/v1/crm/customers/update`\n    },\n    save: function () {\n      return `/api/v1/crm/customers/save`\n    },\n    sendDocument: function () {\n      return `/api/v1/crm/report/send`\n    },\n    sendFinancial: function () {\n      return `/api/v1/crm/financial/send`\n    },\n    sendUpdateVisit: function () {\n      return `/api/v1/crm/visit-update/send`\n    },\n    sendAddFinancialsByFileNo: function () {\n      return `/api/v1/crm/financial-file-no/send`\n    }\n  },\n\n  reports: {\n    list: function (id) {\n      return `/api/v1/customers/${id}/reports`\n    },\n    generate: function (id) {\n      return `/api/v1/reports/${id}/generate`\n    },\n    download: function (id) {\n      return `/api/v1/reports/${id}/download`\n    },\n    delete: function (id) {\n      return `/api/v1/reports/${id}`\n    },\n    financialRatio: function(id, user) {\n      return `/api/v1/reports/financial-ratio/customers/${id}/users/${user}/financial-ratio`\n    }\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('admin',[_c('metatag',{attrs:{\"title\":_vm.resource.data.name}}),_vm._v(\" \"),_c('back-to-top'),_vm._v(\" \"),_c('page-header',{attrs:{\"back\":{ to: { name: 'companies.index' }, text: _vm.trans('Companies') }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(\n          _vm.trans(':name\\'s Dashboard', { name: (\"\" + (_vm.resource.data.name)) })\n        )}})]},proxy:true}])}),_vm._v(\" \"),(_vm.resource.isFetching)?void 0:[(!_vm.resource.data.details.metadata.project_type)?_c('v-row',[_c('v-col',[_c('v-alert',{attrs:{\"type\":\"warning\",\"text\":\"\",\"icon\":\"mdi-exclamation\",\"prominent\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_vm._v(\"\\n                Update the \"),_c('strong',[_vm._v(\"Project Type\")]),_vm._v(\" in the Project Information.\\n              \")]),_vm._v(\" \"),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{attrs:{\"color\":\"accent\",\"large\":\"\",\"to\":{\n                    name: 'companies.edit',\n                    params: { id: _vm.resource.data.id },\n                    query: { tab: 0 }\n                  }}},[_vm._v(\"Update\")])],1)],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"4\"}},[_c('general-information',{model:{value:(_vm.resource.data),callback:function ($$v) {_vm.$set(_vm.resource, \"data\", $$v)},expression:\"resource.data\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('sme-rating',{staticClass:\"mb-5\",model:{value:(_vm.resource.data),callback:function ($$v) {_vm.$set(_vm.resource, \"data\", $$v)},expression:\"resource.data\"}}),_vm._v(\" \"),_c('key-financial-ratio',{staticClass:\"mb-5\",attrs:{\"customer\":_vm.resource.data},model:{value:(_vm.keyFinRation),callback:function ($$v) {_vm.keyFinRation=$$v},expression:\"keyFinRation\"}}),_vm._v(\" \"),_c('latest-report')],1)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <admin>\n    <metatag :title=\"resource.data.name\"></metatag>\n    <back-to-top></back-to-top>\n    <page-header\n      :back=\"{ to: { name: 'companies.index' }, text: trans('Companies') }\"\n    >\n      <template v-slot:title>\n        <span\n          v-text=\"\n            trans(':name\\'s Dashboard', { name: `${resource.data.name}` })\n          \"\n        ></span>\n      </template>\n    </page-header>\n    <template v-if=\"resource.isFetching\"></template>\n    <template v-else>\n      <v-row v-if=\"!resource.data.details.metadata.project_type\">\n        <v-col>\n          <v-alert\n              type=\"warning\"\n              text\n              icon=\"mdi-exclamation\"\n              prominent\n              >\n              <v-row align=\"center\">\n                <v-col class=\"grow\">\n                  Update the <strong>Project Type</strong> in the Project Information.\n                </v-col>\n                <v-col class=\"shrink\">\n                  <v-btn\n                    color=\"accent\"\n                    large\n                    :to=\"{\n                      name: 'companies.edit',\n                      params: { id: resource.data.id },\n                      query: { tab: 0 }\n                    }\"\n                    >Update</v-btn>\n                </v-col>\n              </v-row>\n            </v-alert>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\" lg=\"4\">\n          <general-information v-model=\"resource.data\"></general-information>\n        </v-col>\n        <v-col cols=\"12\" lg=\"8\">\n          <sme-rating v-model=\"resource.data\" class=\"mb-5\"></sme-rating>\n          <key-financial-ratio v-model=\"keyFinRation\" :customer=\"resource.data\" class=\"mb-5\"></key-financial-ratio>\n          <latest-report></latest-report>\n        </v-col>\n      </v-row>\n    </template>\n  </admin>\n</template>\n\n<script>\nimport Resource from \"@/core/Models/Resource\";\nimport $api from \"./routes/api\";\n\nexport default {\n  props: [\"value\"],\n\n  components: {\n    GeneralInformation: () => import(\"./cards/dashboard/GeneralInformation\"),\n    SmeRating: () => import(\"./cards/dashboard/SmeRating\"),\n    KeyFinancialRatio: () => import(\"./cards/dashboard/KeyFinancialRatio\"),\n    LatestReport: () => import(\"./cards/dashboard/LatestReport.vue\")\n  },\n\n  data: () => ({\n    resource: new Resource(),\n    keyFinRation: {},\n  }),\n\n  methods: {\n    getResource() {\n      Promise.all([\n        axios.get($api.show(this.$route.params.id)),\n        axios.get($api.financialRatio(this.$route.params.id))\n      ])\n        .then(([res1, res2]) => {\n          this.resource.setData(res1.data.data);\n          this.keyFinRation = res2.data;\n\n          console.log(this.resource);\n        })\n        .finally(() => {\n          this.resource.fetch(false);\n        });\n    }\n  },\n\n  created() {\n    this.getResource();\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=6c88b8f8&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VBtn,VCol,VRow})\n","export default class Resource {\n  constructor() {\n    this.isFetching = true\n    this.isLoading = false\n    this.isFetching = true\n    this.isPrestine = true\n    this.isValid = true\n    this.errors = []\n\n    this.data = {\n\n    }\n\n    this.hasData = false\n  }\n\n  fetch(val = true) {\n    this.isFetching = val\n  }\n\n  load(val = true) {\n    this.isLoading = val\n  }\n\n  load(val = true) {\n    this.isLoading = val\n  }\n\n  fetch(val = true) {\n    this.isFetching = val\n  }\n\n  prestine(val = true) {\n    this.isPrestine = val\n  }\n\n  valid(val = true) {\n    this.isValid = val\n  }\n\n  setHasData(val = true) {\n    this.hasData = val\n  }\n\n  setErrors(val = []) {\n    this.errors = val\n  }\n\n  setData(data = []) {\n    this.data = data\n  }\n\n  isDisabled() {\n    return this.isLoading || this.isPrestine\n  }\n\n  parseData(elem, update = false) {\n    let\n      data = { ...this.data },\n      formData = new FormData(elem)\n\n    if (update) formData.append('_method', 'put')\n\n    data = formData\n\n    return data\n  }\n}"],"sourceRoot":""}
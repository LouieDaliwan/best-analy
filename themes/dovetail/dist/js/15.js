(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{18:function(e,r,a){"use strict";r.a={list:function(){return"/api/v1/customers"},store:function(){return"/api/v1/customers"},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"/api/v1/customers/".concat(e)},restore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"/api/v1/customers/restore/".concat(e)},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"/api/v1/customers/".concat(e)},trashed:function(){return"/api/v1/customers/trashed"},destroy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"/api/v1/customers/".concat(e)},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"/api/v1/customers/delete/".concat(e)},indices:{list:function(){return"/api/v1/indices"}},surveys:{submit:function(e){return"/api/v1/surveys/".concat(e,"/submit")},show:function(e){return"/api/v1/surveys/".concat(e)}},crm:{search:function(e){return"/api/v1/crm/customers/search/".concat(e)},update:function(){return"/api/v1/crm/customers/update"}}}},273:function(e,r,a){"use strict";a.r(r);var t=a(18);function n(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var s=function e(){var r;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.loading=!1,this.isPrestine=!0,this.isValid=!0,this.errors=[],this.data={name:"",code:"",refnum:"",description:"",metadata:{}},this.metadata={"fps-qa1":(r={Sales:{salesYear1:"100,000",salesYear2:"125,000",salesYear3:"200,000"},"<strong>Change in Inventory Levels</strong>":[],"Opening Stocks":{openingStocksYear1:"8,000",openingStocksYear2:"9,500",openingStocksYear3:"6,500"},"Closing Stocks":{closingStocksYear1:"9,500",closingStocksYear2:"6,500",closingStocksYear3:"3,200"},"":[],"<h4><strong>Purchase of Goods and Services</strong></h4>":[],"<strong>Materials Consumed</strong>":[],"Raw Materials (direct & indirect)":{rawMaterialsYear1:"36,000",rawMaterialsYear2:"45,000",rawMaterialsYear3:"55,000"},"Stock Expiring":{stockExpiringYear1:"",stockExpiringYear2:"",stockExpiringYear3:""},"Other Materials Used":{otherMaterialsUsedYear1:"1,500",otherMaterialsUsedYear2:"1,000",otherMaterialsUsedYear3:"1,000"}},n(r,"",[]),n(r,"<strong>Production Costs</strong>",[]),n(r,"Cargo and Handling",{cargoAndHandlingYear1:"",cargoAndHandlingYear2:"",cargoAndHandlingYear3:""}),n(r,"Part-time/Temporary Labour",{partTimeAndTemporaryLabourYear1:"",partTimeAndTemporaryLabourYear2:"",partTimeAndTemporaryLabourYear3:""}),n(r,"Insurance (not including employee's insurance)",{insuranceYear1:"1,000",insuranceYear2:"1,000",insuranceYear3:"1,000"}),n(r,"Transportation",{transportationYear1:"10,000",transportationYear2:"11,000",transportationYear3:"11,000"}),n(r,"Utilities",{utilitiesYear1:"",utilitiesYear2:"",utilitiesYear3:""}),n(r,"Maintenance (Building, Plant, and Machinery)",{maintenanceYear1:"2,400",maintenanceYear2:"2,500",maintenanceYear3:"2,300"}),n(r,"Lease of Plant and Machinery",{leaseYear1:"",leaseYear2:"",leaseYear3:""}),n(r,"Other Production Costs",{otherProductionCostsYear1:"",otherProductionCostsYear2:"",otherProductionCostsYear3:""}),n(r,"",[]),n(r,"<strong>General Management Costs</strong>",[]),n(r,"Stationery Supplies and Printing",{stationeryYear1:"450",stationeryYear2:"450",stationeryYear3:"450"}),n(r,"Rental",{rentalYear1:"10,000",rentalYear2:"10,000",rentalYear3:"11,000"}),n(r,"Insurance (not including employee's insurance)",{insuranceYear1:"",insuranceYear2:"",insuranceYear3:""}),n(r,"Transportation",{transportationYear1:"1,200",transportationYear2:"1,200",transportationYear3:"1,300"}),n(r,"Company Car/Bus etc.",{companyCardYear1:"",companyCardYear2:"",companyCardYear3:""}),n(r,"Advertising",{advertisingYear1:"12,000",advertisingYear2:"13,000",advertisingYear3:"13,000"}),n(r,"Entertainment",{entertainmentYear1:"",entertainmentYear2:"",entertainmentYear3:""}),n(r,"Food and Drinks",{foodAndDrinksYear1:"2,000",foodAndDrinksYear2:"1,800",foodAndDrinksYear3:"2,100"}),n(r,"Telephone and Fax",{telephoneAndFaxYear1:"600",telephoneAndFaxYear2:"700",telephoneAndFaxYear3:"800"}),n(r,"Mail and Courier",{mailAndCourierYear1:"",mailAndCourierYear2:"",mailAndCourierYear3:""}),n(r,"Maintenance (Office Equipment)",{maintenanceOfficeEquipmentYear1:"",maintenanceOfficeEquipmentYear2:"",maintenanceOfficeEquipmentYear3:""}),n(r,"Travel",{travelYear1:"",travelYear2:"",travelYear3:""}),n(r,"Audit, Secretarial, and Professional Costs",{auditYear1:"1,800",auditYear2:"2,000",auditYear3:"2,000"}),n(r,"Newspapers and Magazines",{newspapersAndMagazinesYear1:"",newspapersAndMagazinesYear2:"",newspapersAndMagazinesYear3:""}),n(r,"Stamp Duty, Filing and Legal",{stampYear1:"",stampYear2:"",stampYear3:""}),n(r,"Bank charges",{bankChargesYear1:"720",bankChargesYear2:"720",bankChargesYear3:"720"}),n(r,"Other Administrative Costs",{otherAdministrativeCostsYear1:"",otherAdministrativeCostsYear2:"",otherAdministrativeCostsYear3:""}),n(r,"<strong>Labour Expenses</strong>",[]),n(r,"Employee Compensation",{employeeCompensationYear1:"193,257",employeeCompensationYear2:"193,257",employeeCompensationYear3:"193,257"}),n(r,"Bonuses",{bonusesYear1:"245,165",bonusesYear2:"245,165",bonusesYear3:"245,165"}),n(r,"Provident Fund",{providentFundYear1:"13,113",providentFundYear2:"13,113",providentFundYear3:"13,113"}),n(r,"Employee Welfare",{employeeWelfareYear1:"75,092",employeeWelfareYear2:"75,092",employeeWelfareYear3:"75,092"}),n(r,"Medical Costs",{medicalCostsYear1:"3,395",medicalCostsYear2:"3,395",medicalCostsYear3:"3,395"}),n(r,"Employee Training",{employeeTrainingYear1:"",employeeTrainingYear2:"",employeeTrainingYear3:""}),n(r,"Director's Salary",{directorsSalaryYear1:"409,846",directorsSalaryYear2:"409,846",directorsSalaryYear3:"409,846"}),n(r,"Employee Insurance",{employeeInsuranceYear1:"",employeeInsuranceYear2:"",employeeInsuranceYear3:""}),n(r,"Other Labour Expenses",{otherLabourExpensesYear1:"",otherLabourExpensesYear2:"",otherLabourExpensesYear3:""}),n(r,"<strong>Depreciation</string>",[]),n(r,"Buildings",{buildingsYear1:"179,869",buildingsYear2:"179,869",buildingsYear3:"179,869"}),n(r,"Plant, Machinery & Equipment",{plantYear1:"",plantYear2:"",plantYear3:""}),n(r,"Others (Depreciation)",{otherDepreciationsYear1:"",otherDepreciationsYear2:"",otherDepreciationsYear3:""}),n(r,"<h4><strong>Non-operating Expenses</strong></h4>",[]),n(r,"<strong>Non-Operating Income</strong>",[]),n(r,"Profit from Fixed Assets Sale",{profitFixedYear1:"29,744",profitFixedYear2:"10,386",profitFixedYear3:"27,577"}),n(r,"Profit from Foreign Exchange",{profitForeignYear1:"",profitForeignYear2:"",profitForeignYear3:""}),n(r,"Other Income",{otherIncomeYear1:"26,792",otherIncomeYear2:"24,113",otherIncomeYear3:"16,075"}),n(r,"<strong>Non-Operating Costs</strong>",[]),n(r,"Bad Debts",{badDebtsYear1:"",badDebtsYear2:"",badDebtsYear3:""}),n(r,"Donations",{donationsYear1:"15,135",donationsYear2:"15,135",donationsYear3:"15,135"}),n(r,"Foreign Exchange Loss",{foreignExhangeLossYear1:"24,302",foreignExhangeLossYear2:"24,302",foreignExhangeLossYear3:"24,302"}),n(r,"Loss on Fixed Assets Sale",{lossOnFixedAssetsSaleYear1:"",lossOnFixedAssetsSaleYear2:"",lossOnFixedAssetsSaleYear3:""}),n(r,"Others (Non-Operating Costs)",{otherYear1:"",otherYear2:"",otherYear3:""}),n(r,"<strong>Taxation</strong>",[]),n(r,"Tax on Property",{taxYear1:"",taxYear2:"",taxYear3:""}),n(r,"Duties (Customs & Excise)",{dutiesYear1:"",dutiesYear2:"",dutiesYear3:""}),n(r,"Levy on Foreign Workers",{levyYear1:"6,275",levyYear2:"6,275",levyYear3:"6,275"}),n(r,"Others (excluding Income Tax)",{othersYear1:"",othersYear2:"",othersYear3:""}),n(r,"<strongInterest On Loans/Hires</strong>",[]),n(r,"Interest & Charges by Bank",{interestChargesYear1:"493,458",interestChargesYear2:"493,458",interestChargesYear3:"493,458"}),n(r,"Interest on Loan",{interestLoanYear1:"300,390",interestLoanYear2:"300,390",interestLoanYear3:"300,390"}),n(r,"Interest on Hire Purchase",{interestHireYear1:"",interestHireYear2:"",interestHireYear3:""}),n(r,"Others (Interest on Loan/Hires)",{othersYear1:"",othersYear2:"",othersYear3:""}),n(r,"<strong>Company Tax</strong>",[]),n(r,"Tax on Company",{taxOnCompanyYear1:"",taxOnCompanyYear2:"",taxOnCompanyYear3:""}),r)}},o=a(6);function i(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function c(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?i(Object(a),!0).forEach((function(r){u(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function u(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var d={beforeRouteLeave:function(e,r,a){this.resource.isPrestine?a():this.askUserBeforeNavigatingAway(a)},computed:c({},Object(o.c)({isDense:"settings/fieldIsDense",shortkeyCtrlIsPressed:"shortkey/ctrlIsPressed"}),{isDesktop:function(){return this.$vuetify.breakpoint.mdAndUp},isInvalid:function(){return this.resource.isPrestine||this.resource.loading},isLoading:function(){return this.resource.loading},isFormDisabled:function(){return this.isInvalid||this.resource.isPrestine},isFormPrestine:function(){return this.resource.isPrestine},isNotFormPrestine:function(){return!this.isFormPrestine}}),data:function(){return{resource:new s}},methods:c({},Object(o.b)({hideSidebar:"sidebar/hide",hideAlertbox:"alertbox/hide",hideDialog:"dialog/hide",hideErrorbox:"errorbox/hide",hideSnackbar:"snackbar/hide",hideSuccessbox:"successbox/hide",showAlertbox:"alertbox/show",showDialog:"dialog/show",showErrorbox:"errorbox/show",showSnackbar:"snackbar/show",showSuccessbox:"successbox/show"}),{askUserBeforeNavigatingAway:function(e){var r=this;this.showDialog({illustration:function(){return Promise.resolve().then(a.bind(null,499))},title:trans("Unsaved changes will be lost"),text:trans("You have unsaved changes on this page. If you navigate away from this page, data will not be recovered."),buttons:{cancel:{text:trans("Go Back"),callback:function(){r.hideDialog()}},action:{text:trans("Discard"),callback:function(){e(),r.hideDialog()}}}})},askUserToDiscardUnsavedChanges:function(){var e=this;this.showDialog({illustration:function(){return Promise.resolve().then(a.bind(null,499))},title:trans("Discard changes?"),text:trans("You have unsaved changes on this page. If you navigate away from this page, data will not be recovered."),buttons:{cancel:{text:trans("Cancel"),callback:function(){e.hideDialog()}},action:{text:trans("Discard"),callback:function(){e.hideDialog(),e.$router.replace({name:"companies.index"})}}}})},load:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.resource.loading=e},parseResourceData:function(e){_.clone(e);var r=new FormData(this.$refs["updateform-form"].$el);return r.append("_method","put"),r},parseErrors:function(e){return this.$refs.updateform.setErrors(e),e=Object.values(e).flat(),this.resource.hasErrors=e.length,this.resource.errors},getParseErrors:function(e){return e=Object.values(e).flat(),this.resource.hasErrors=e.length,e},submitForm:function(){this.isFormDisabled||(this.$refs["submit-button"].click(),window.scrollTo({top:0,left:0,behavior:"smooth"}))},submit:function(e){var r=this;this.load(),e.preventDefault(),axios.post(t.a.update(this.resource.data.id),this.parseResourceData(this.resource.data)).then((function(e){r.showSnackbar({text:trans("Company updated successfully")}),r.showSuccessbox({text:trans("Company updated successfully")})})).catch((function(e){if(e.response&&e.response.status==Response.HTTP_UNPROCESSABLE_ENTITY){_.size(e.response.data.errors);r.$refs.updateform.setErrors(e.response.data.errors),r.showErrorbox({text:trans(e.response.data.message),errors:e.response.data.errors})}})).finally((function(){r.load(!1)}))},getResource:function(){var e=this;this.resource.loading=!0,this.resource.isPrestine=!1,axios.get(t.a.show(this.$route.params.id)).then((function(r){e.resource.data=r.data.data,e.resource.metadata=_.merge({},e.resource.metadata,e.resource.data.metadata)})).finally((function(){e.load(!1)}))}}),mounted:function(){this.hideSidebar(),this.getResource()}},l=a(1),p=a(2),m=a.n(p),h=a(534),Y=a(90),f=a(529),g=a(530),v=a(5),b=a(541),y=a(74),x=a(531),C=a(532),k=a(49),w=a(19),P=Object(l.a)(d,(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("admin",{scopedSlots:e._u([{key:"appbar",fn:function(){return[a("v-container",{staticClass:"py-0 px-0"},[a("v-row",{attrs:{justify:"space-between",align:"center"}},[a("v-fade-transition",[e.isNotFormPrestine?a("v-col",{staticClass:"py-0",attrs:{cols:"auto"}},[a("v-toolbar-title",{staticClass:"muted--text"},[e._v(e._s(e.trans("Unsaved changes")))])],1):e._e()],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"auto"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"ml-3 mr-0",attrs:{text:"",large:""},on:{click:e.askUserToDiscardUnsavedChanges}},[e._v(e._s(e.trans("Discard")))]),e._v(" "),a("v-badge",{staticClass:"dt-badge",attrs:{bordered:"",bottom:"",color:"dark",content:"s","offset-x":"20","offset-y":"20",tile:"",transition:"fade-transition"},model:{value:e.shortkeyCtrlIsPressed,callback:function(r){e.shortkeyCtrlIsPressed=r},expression:"shortkeyCtrlIsPressed"}},[a("v-btn",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["ctrl","s"],expression:"['ctrl', 's']",modifiers:{once:!0}}],ref:"submit-button-main",staticClass:"ml-3 mr-0",attrs:{loading:e.isLoading,color:"primary",large:"",type:"submit"},on:{click:function(r){return r.preventDefault(),e.submitForm(r)},shortkey:e.submitForm}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-content-save-outline")]),e._v("\n                "+e._s(e.trans("Update"))+"\n              ")],1)],1)],1)])],1)],1)]},proxy:!0}])},[a("metatag",{attrs:{title:e.resource.data.name}}),e._v(" "),e._v(" "),a("v-form",{ref:"updateform-form",attrs:{disabled:e.isLoading,autocomplete:"false"},on:{submit:function(r){return r.preventDefault(),e.submit(r)}}},[a("button",{ref:"submit-button",staticClass:"d-none",attrs:{type:"submit"}}),e._v(" "),a("page-header",{attrs:{back:{to:{name:"companies.index"},text:e.trans("Companies")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.trans("Edit :name",{name:e.resource.data.name+"'s Input Data"}))+"\n      ")]},proxy:!0}])}),e._v(" "),a("alertbox"),e._v(" "),a("input",{attrs:{type:"hidden",name:"name"},domProps:{value:e.resource.data.name}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"code"},domProps:{value:e.resource.data.code}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"refnum"},domProps:{value:e.resource.data.refnum}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"user_id"},domProps:{value:e.resource.data.user_id}}),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("h2",{staticClass:"title mb-3"},[e._v(e._s(e.trans("Company Information")))]),e._v(" "),a("v-text-field",{staticClass:"dt-text-field",attrs:{dense:e.isDense,disabled:e.isLoading,label:e.trans("Staff Strength"),autofocus:"",name:"metadata[staffstrength]",outlined:"",type:"number"},model:{value:e.resource.data.metadata.staffstrength,callback:function(r){e.$set(e.resource.data.metadata,"staffstrength",r)},expression:"resource.data.metadata['staffstrength']"}}),e._v(" "),a("v-text-field",{staticClass:"dt-text-field",attrs:{dense:e.isDense,disabled:e.isLoading,label:e.trans("Industry"),name:"metadata[industry]",outlined:""},model:{value:e.resource.data.metadata.industry,callback:function(r){e.$set(e.resource.data.metadata,"industry",r)},expression:"resource.data.metadata['industry']"}})],1)],1)],1)],1)}),[],!1,null,null,null);r.default=P.exports;m()(P,{VBadge:h.a,VBtn:Y.a,VCol:f.a,VContainer:g.a,VFadeTransition:v.c,VForm:b.a,VIcon:y.a,VRow:x.a,VSpacer:C.a,VTextField:k.a,VToolbarTitle:w.a})}}]);
//# sourceMappingURL=15.js.map
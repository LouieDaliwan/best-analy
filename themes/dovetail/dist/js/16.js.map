{"version":3,"sources":["webpack:///./src/modules/Customer/cards/dashboard/LatestReport.vue?6f45","webpack:///src/modules/Customer/cards/dashboard/LatestReport.vue","webpack:///./src/modules/Customer/cards/dashboard/LatestReport.vue?b7a1","webpack:///./src/modules/Customer/cards/dashboard/LatestReport.vue","webpack:///./src/modules/Customer/Models/Company.js","webpack:///./src/modules/Customer/cards/SendIndividualReportToCrmButton.vue?4b9a","webpack:///./src/modules/Customer/cards/SendIndividualReportToCrmButton.vue?6536","webpack:///src/modules/Customer/cards/SendIndividualReportToCrmButton.vue","webpack:///./src/modules/Customer/cards/SendIndividualReportToCrmButton.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","domProps","_s","trans","_v","directives","name","rawName","value","expression","attrs","resources","headers","data","loading","NaN","options","meta","total","tabletoolbar","toggleBulkEdit","on","$event","$set","optionsChanged","scopedSlots","_u","key","fn","proxy","_l","j","i","ref","item","_g","goToShowPage","created_at","created","author","model","callback","$$v","_e","VCard","VCardText","VDataTable","VDivider","VSlideYReverseTransition","VSlideYTransition","VTooltip","Company","isPrestine","isValid","errors","applicant","customer_id","metadata","BusinessCounselorName","FileNo","FundingRequestNo","PeeBusinessCounselorName","SiteVisitDate","address","contact_person","designation","email","industry","number","staffstrength","website","cooperation","Reachable","Cooperating","Involvement","code","refnum","description","details","business_size","funding_program","industry_sector","license_no","project_location","project_name","project_type","trade_name_ar","trade_name_en","investment_value","type","financials","metadataOrig","reports","props","computed","isOverall","methods","getElements","_elements","elements","_","mapKeys","v","k","mapValues","getOverallScore","o","score","sendToCrm","$store","dispatch","Id","toUpper","customer","token","filenumber","Status","OverallScore","Comments","OverallComment","console","log","axios","post","response","Code","show","width","buttons","title","text","Message","sendDocumentToCrm","isSending","FileContentBase64","fileContentBase64","sendBothDataToCrm","VBtn","VIcon"],"mappings":"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","file":"dist/js/16.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',{staticClass:\"pa-7\"},[_c('div',{staticClass:\"d-flex align-center justify-space-between mb-5\"},[_c('h3',{domProps:{\"textContent\":_vm._s(_vm.trans('Reports List'))}})]),_vm._v(\" \"),_c('v-divider',{staticClass:\"mb-5\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.resourcesIsNotEmpty),expression:\"resourcesIsNotEmpty\"}]},[_c('v-card',[_c('v-slide-y-reverse-transition',{attrs:{\"mode\":\"out-in\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.resources.headers,\"items\":_vm.resources.data,\"loading\":_vm.resources.loading,\"mobile-breakpoint\":NaN,\"options\":_vm.resources.options,\"server-items-length\":_vm.resources.meta.total,\"show-select\":_vm.tabletoolbar.toggleBulkEdit,\"color\":\"primary\",\"item-key\":\"id\"},on:{\"update:options\":[function($event){return _vm.$set(_vm.resources, \"options\", $event)},_vm.optionsChanged]},scopedSlots:_vm._u([{key:\"progress\",fn:function(){return [_c('span')]},proxy:true},{key:\"loading\",fn:function(){return [_c('v-slide-y-transition',{attrs:{\"mode\":\"out-in\"}},[_c('div',_vm._l((_vm.resources.options.itemsPerPage),function(j,i){return _c('div',{key:i},[_c('skeleton-table')],1)}),0)])]},proxy:true},{key:\"item.key\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"mt-1\"},on),[_c('router-link',{staticClass:\"text-no-wrap text--decoration-none\",attrs:{\"tag\":\"a\",\"exact\":\"\",\"to\":_vm.goToShowPage(item)},domProps:{\"textContent\":_vm._s(item.key)}})],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans(\"View Preview Report\")))])])]}},{key:\"item.created_at\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-no-wrap\",attrs:{\"title\":item.created_at}},[_vm._v(_vm._s(_vm.trans(item.created)))])]}},{key:\"item.user_id\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-no-wrap\",domProps:{\"textContent\":_vm._s(item.author)}})]}}]),model:{value:(_vm.resources.selected),callback:function ($$v) {_vm.$set(_vm.resources, \"selected\", $$v)},expression:\"resources.selected\"}})],1)],1)],1),_vm._v(\" \"),(_vm.resourcesIsEmpty)?_c('div',[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"text-center\"},[_c('h3',{staticClass:\"muted--text\",domProps:{\"textContent\":_vm._s(_vm.trans('No reports available'))}}),_vm._v(\" \"),_c('p',{staticClass:\"muted--text mb-0\",domProps:{\"textContent\":_vm._s(_vm.trans('Start by answering an SME rating survey.'))}})])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-text class=\"pa-7\">\n      <div class=\"d-flex align-center justify-space-between mb-5\">\n        <h3 v-text=\"trans('Reports List')\"></h3>\n      </div>\n      <v-divider class=\"mb-5\"></v-divider>\n        <div v-show=\"resourcesIsNotEmpty\">\n          <v-card>\n            <!-- <toolbar-menu :items.sync=\"tabletoolbar\" @update:search=\"search\">\n            <template v-slot:filter>\n                <monthly-picker></monthly-picker>\n            </template>\n            </toolbar-menu> -->\n            <v-slide-y-reverse-transition mode=\"out-in\">\n              <v-data-table\n                  :headers=\"resources.headers\"\n                  :items=\"resources.data\"\n                  :loading=\"resources.loading\"\n                  :mobile-breakpoint=\"NaN\"\n                  :options.sync=\"resources.options\"\n                  :server-items-length=\"resources.meta.total\"\n                  :show-select=\"tabletoolbar.toggleBulkEdit\"\n                  @update:options=\"optionsChanged\"\n                  color=\"primary\"\n                  item-key=\"id\"\n                  v-model=\"resources.selected\"\n                  >\n                  <template v-slot:progress><span></span></template>\n\n                  <template v-slot:loading>\n                  <v-slide-y-transition mode=\"out-in\">\n                      <div>\n                      <div\n                          v-for=\"(j, i) in resources.options.itemsPerPage\"\n                          :key=\"i\"\n                      >\n                          <skeleton-table></skeleton-table>\n                      </div>\n                      </div>\n                  </v-slide-y-transition>\n                  </template>\n\n                  <!-- Name -->\n                  <template v-slot:item.key=\"{ item }\">\n                  <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                      <span class=\"mt-1\" v-on=\"on\"\n                          ><router-link\n                          tag=\"a\"\n                          exact\n                          :to=\"goToShowPage(item)\"\n                          v-text=\"item.key\"\n                          class=\"text-no-wrap text--decoration-none\"\n                          ></router-link\n                      ></span>\n                      </template>\n                      <span>{{ trans(\"View Preview Report\") }}</span>\n                  </v-tooltip>\n                  </template>\n                  <!-- Name -->\n\n                  <!-- Created -->\n                  <template v-slot:item.created_at=\"{ item }\">\n                  <span class=\"text-no-wrap\" :title=\"item.created_at\">{{\n                      trans(item.created)\n                  }}</span>\n                  </template>\n                  <!-- Created -->\n\n                  <!-- Author -->\n                  <template v-slot:item.user_id=\"{ item }\">\n                  <span class=\"text-no-wrap\" v-text=\"item.author\"></span>\n                  </template>\n                  <!-- Author -->\n              </v-data-table>\n            </v-slide-y-reverse-transition>\n          </v-card>\n        </div>\n\n      <!-- Empty state -->\n        <div v-if=\"resourcesIsEmpty\">\n          <v-card flat>\n            <v-card-text class=\"text-center\">\n              <h3 class=\"muted--text\" v-text=\"trans('No reports available')\"></h3>\n              <p class=\"muted--text mb-0\" v-text=\"trans('Start by answering an SME rating survey.')\"></p>\n            </v-card-text>\n          </v-card>\n        </div>\n        <!-- Empty state -->\n      </div>\n    </v-card-text>\n  </v-card>\n\n</template>\n\n<script>\nimport Company from \"../../Models/Company\";\nimport $api from \"../../routes/api\";\nimport $auth from \"@/core/Auth/auth\";\nimport { mapActions } from \"vuex\";\nimport SendReportToCrmButton from \"@/modules/Customer/cards/SendReportToCrmButton.vue\";\nimport SendIndividualReportToCrmButton from \"@/modules/Customer/cards/SendIndividualReportToCrmButton.vue\";\n\n    export default {\n        components: {\n            SendReportToCrmButton,\n            SendIndividualReportToCrmButton\n        },\n        computed: {\n            resourcesIsNotEmpty() {\n                return !this.resourcesIsEmpty;\n            },\n\n            resourcesIsEmpty() {\n                return window._.isEmpty(this.resources.data) && !this.resources.loading;\n            },\n\n            allReportPresent() {\n            return this.resources.data.length == 4;\n            },\n\n            financialReportHasValue() {\n            return this.resource.data.is_fs_has_no_zero_value;\n            }\n        },\n        data: () => ({\n            tabletoolbar: {\n                bulkCount: 0,\n                isSearching: false,\n                search: null,\n                listGridView: false,\n                toggleBulkEdit: false,\n                toggleTrash: false,\n                verticaldiv: false\n            },\n\n            resource: new Company(),\n            resources: {\n                loading: true,\n                search: null,\n                options: {\n                    page: 1,\n                    pageCount: 0,\n                    itemsPerPage: 10,\n                    sortDesc: [],\n                    sortBy: []\n                },\n                meta: {},\n                modes: {\n                    bulkedit: false\n                },\n                selected: [],\n                headers: [\n                    {\n                    text: trans(\"Report Type\"),\n                    align: \"left\",\n                    value: \"key\",\n                    class: \"text-no-wrap\"\n                    },\n                    {\n                    text: trans(\"Generated By\"),\n                    align: \"left\",\n                    value: \"user_id\",\n                    class: \"text-no-wrap\"\n                    },\n                    {\n                    text: trans(\"Site Visit Date\"),\n                    align: \"center\",\n                    value: \"remarked\",\n                    class: \"text-no-wrap\"\n                    },\n                    // {\n                    // text: trans(\"Actions\"),\n                    // align: \"center\",\n                    // value: \"action\",\n                    // sortable: false,\n                    // class: \"muted--text text-no-wrap\"\n                    // }\n                ],\n                data: []\n            },\n        }),\n\n        methods: {\n            ...mapActions({\n                errorDialog: \"dialog/error\",\n                loadDialog: \"dialog/loading\",\n                showDialog: \"dialog/show\",\n                hideDialog: \"dialog/hide\",\n                showSnackbar: \"snackbar/show\"\n            }),\n\n            optionsChanged(options) {\n                this.getPaginatedData(this.options);\n            },\n\n            changeOptionsFromRouterQueries() {\n                this.options.per_page = this.$route.query.per_page;\n                this.options.page = parseInt(this.$route.query.page);\n                this.options.search = this.$route.query.search;\n                this.resources.search = this.options.search;\n                this.tabletoolbar.search = this.options.search;\n            },\n\n            search: _.debounce(function(event) {\n                this.resources.search = event.srcElement.value || \"\";\n                this.tabletoolbar.isSearching = false;\n                if (this.resources.searching) {\n                    this.getPaginatedData(this.options, \"search\");\n                    this.resources.searching = false;\n                }\n            }, 200),\n\n            load(val = true) {\n                this.resource.loading = val;\n            },\n\n            goToShowPage(item) {\n                return {\n                    name: \"reports.show\",\n                    params: { id: this.$route.params.id, report: item.id }\n                };\n            },\n\n            goToSurveyPage(item) {\n                return {\n                    name: \"companies.response\",\n                    query: { month: item.remarks },\n                    params: {\n                    id: this.$route.params.id,\n                    taxonomy: item.value[\"current:index\"][\"taxonomy\"][\"id\"] || null,\n                    survey: item.value[\"survey:id\"]\n                    }\n                };\n            },\n\n            previewPDFReport(item) {\n                window.open(\n                    `/best/reports/pdf/preview?report_id=${item.id}&type=index`,\n                    \"_blank\"\n                );\n            },\n\n            previewRatiosReport() {\n                this.$router.push({\n                    name: \"reports.ratios\",\n                    query: {\n                    type: \"ratios\",\n                    user_id: $auth.getId()\n                    },\n                    params: { id: this.$route.params.id }\n                });\n            },\n\n            previewOverallReport() {\n                this.$router.push({\n                    name: \"reports.overall\",\n                    query: {\n                    type: \"overall\",\n                    user_id: $auth.getId(),\n                    month: this.resources.options.month\n                    },\n                    params: {\n                    id: this.$route.params.id,\n                    month: this.resources.options.month\n                    }\n                });\n            },\n\n            deleteResource(item) {\n                item.loading = true;\n                axios.delete($api.reports.delete(item.id))\n                .then(response => {\n                item.active = false;\n                this.getPaginatedData(null);\n                this.hideDialog();\n                this.showSnackbar({\n                    text: trans_choice(\"Report successfully deleted\", 1)\n                });\n                })\n                .catch(err => {\n                this.errorDialog({\n                    width: 400,\n                    buttons: { cancel: { show: false } },\n                    title: trans(\"Whoops! An error occured\"),\n                    text: err.response.data.message\n                });\n                })\n                .finally(() => {\n                item.active = false;\n                item.loading = false;\n                });\n            },\n\n            getPaginatedData(params = null, caller = null) {\n                params = Object.assign(params ? params : this.$route.query, {\n                    search: this.resources.search\n                });\n                this.resources.loading = true;\n                axios.get($api.reports.list(this.$route.params.id), { params })\n                    .then(response => {\n                    this.resources = Object.assign({}, this.resources, response.data);\n                    this.resources.options = Object.assign(\n                        this.resources.options,\n                        response.data.meta,\n                        params\n                    );\n                    this.resources.loading = false;\n                    this.$router\n                        .push({ query: Object.assign({}, this.$route.query, params) })\n                        .catch(err => {});\n                    })\n                    .catch(err => {\n                    this.errorDialog({\n                        width: 400,\n                        buttons: { cancel: { show: false } },\n                        title: trans(\"Whoops! An error occured\"),\n                        text: err.response.data.message\n                    });\n                    })\n                    .finally(() => {\n                    this.resources.data.map(function(data) {\n                        return Object.assign(data, { loading: false });\n                    });\n                });\n            },\n\n            getResource() {\n                this.resource.loading = true;\n                this.resource.isPrestine = false;\n                axios.get($api.show(this.$route.params.id))\n                .then(response => {\n                this.resource.data = response.data.data;\n                })\n                .finally(() => {\n                this.load(false);\n                this.resource.isPrestine = true;\n                });\n            },\n            \n            askUserToDestroyReport(item) {\n                this.showDialog({\n                    color: \"error\",\n                    illustration: () =>\n                    import(\"@/components/Icons/ManThrowingAwayPaperIcon.vue\"),\n                    illustrationWidth: 200,\n                    illustrationHeight: 160,\n                    width: \"420\",\n                    title: \"You are about to permanently delete the selected report.\",\n                    text: [\n                    \"Some data related to report will still remain.\",\n                    trans(\"Are you sure you want to permanently delete :name?\", {\n                        name: item.key\n                    })\n                    ],\n                    buttons: {\n                    cancel: { show: true, color: \"link\" },\n                    action: {\n                        text: \"Delete\",\n                        color: \"error\",\n                        callback: dialog => {\n                        this.loadDialog(true);\n                        this.deleteResource(item);\n                        }\n                    }\n                    }\n                });\n            },\n        },\n\n        mounted() {\n            this.getResource();\n            this.getPaginatedData();\n        },\n\n        watch: {\n            \"resources.search\": function(val) {\n                this.resources.searching = true;\n            },\n\n            \"resources.selected\": function(val) {\n                this.tabletoolbar.bulkCount = val.length;\n            },\n\n            \"tabletoolbar.toggleBulkEdit\": function(val) {\n                if (!val) {\n                    this.resources.selected = [];\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LatestReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LatestReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LatestReport.vue?vue&type=template&id=2fb8501a&\"\nimport script from \"./LatestReport.vue?vue&type=script&lang=js&\"\nexport * from \"./LatestReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSlideYReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSlideYTransition } from 'vuetify/lib/components/transitions';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VCard,VCardText,VDataTable,VDivider,VSlideYReverseTransition,VSlideYTransition,VTooltip})\n","class Company {\n  constructor() {\n    this.loading = false;\n    this.isPrestine = true;\n    this.isValid = true;\n    this.errors = [];\n\n    this.data = {\n      applicant: {\n        customer_id: null,\n        metadata: {\n          BusinessCounselorName: null,\n          FileNo: null,\n          FundingRequestNo: null,\n          PeeBusinessCounselorName: null,\n          SiteVisitDate: null,\n          address: null,\n          contact_person: null,\n          designation: null,\n          email: null,\n          industry: null,\n          name: null,\n          number: null,\n          staffstrength: null,\n          website: null,\n          cooperation: {\n            Reachable: null,\n            Cooperating: null,\n            Involvement: null,\n            \"Duration of Overdue (DPD)\": null\n          }\n        }\n      },\n      name: \"\",\n      code: \"\",\n      refnum: \"\",\n      description: \"\",\n      details: {\n        customer_id: null,\n        metadata: {\n          business_size: null,\n          description: null,\n          funding_program: null,\n          industry_sector: null,\n          license_no: null,\n          project_location: null,\n          project_name: null,\n          project_type: null,\n          trade_name_ar: null,\n          trade_name_en: null,\n          investment_value: null,\n        }\n      },\n      metadata: {\n        type: \"\",\n        applicant: {\n          name: \"\"\n        }\n      },\n      financials: this.metadataOrig,\n      reports: []\n    };\n  }\n}\n\nexport default Company;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{attrs:{\"loading\":_vm.isSending,\"disabled\":_vm.isSending,\"icon\":\"\"},on:{\"click\":_vm.sendDocumentToCrm}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-send\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendIndividualReportToCrmButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--14-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendIndividualReportToCrmButton.vue?vue&type=script&lang=js&\"","<template>\r\n  <v-btn :loading=\"isSending\" :disabled=\"isSending\" @click=\"sendDocumentToCrm\" icon>\r\n    <v-icon small>mdi-send</v-icon>\r\n  </v-btn>\r\n</template>\r\n\r\n<script>\r\nimport $api from '@/modules/Customer/routes/api'\r\n\r\nexport default {\r\n  props: ['item', 'user', 'type'],\r\n\r\n  data: () => ({\r\n    isSending: false,\r\n    resource: {\r\n      data: {}\r\n    },\r\n  }),\r\n\r\n  computed: {\r\n    isOverall () {\r\n      return this.type == 'overall'\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // getReportData () {\r\n    //   return new Promise((resolve, reject) => {\r\n    //     let customer = this.item\r\n    //     let user = this.user\r\n    //     axios.get(\r\n    //       `/api/v1/reports/overall/customer/${customer}/user/${user}`\r\n    //     ).then(response => {\r\n    //       resolve(response)\r\n    //     }).catch(err => {\r\n    //       reject(err)\r\n    //     })\r\n    //   })\r\n    // },\r\n\r\n    getElements () {\r\n      let report = this.item.value || {}\r\n      let _elements = {}\r\n\r\n      _elements = report['current:index'].elements;\r\n\r\n      _elements = _.mapKeys(_elements, function (v, k) { return k.replace(/[^a-zA-Z]/g, ''); });\r\n      _elements = _.mapKeys(_elements, function (v, k) { return k.replace(/\\s+/g, ''); });\r\n\r\n      _elements = _.mapValues(_elements, function (v, k) { return v * 100; });\r\n\r\n      return _elements;\r\n    },\r\n\r\n    getOverallScore () {\r\n      let score = this.item.value['current:index']['overall:total'];\r\n      let pindex = this.item.value['current:index'];\r\n      let code = 'OverallScore';\r\n\r\n      switch (pindex['pindex:code']) {\r\n        case 'FMPI':\r\n          code = 'Financial'+code;\r\n          break;\r\n\r\n        case 'PMPI':\r\n          code = 'Productivity'+code;\r\n          break;\r\n\r\n        case 'HRPI':\r\n          code = 'HR'+code;\r\n          break;\r\n\r\n        case 'BSPI':\r\n          code = 'Sustainability'+code;\r\n          break;\r\n      }\r\n\r\n      let o = {};\r\n      o[code] = score;\r\n\r\n      return o;\r\n    },\r\n\r\n    sendToCrm () {\r\n      this.$store.dispatch('snackbar/show', { button: { show: false }, timeout: 0, text: 'Sending report to CRM. Please wait...'});\r\n\r\n      if (! this.item.customer) {\r\n        this.$store.dispatch('snackbar/show', { text: 'No report data found.'});\r\n\r\n        return false;\r\n      }\r\n\r\n      // console.log('e', this.getElements());\r\n\r\n      let data = Object.assign(this.getOverallScore(), this.getElements(), {\r\n        Id: _.toUpper(this.item.customer.token),\r\n        FileNo: this.item.customer.filenumber,\r\n        Status: 100000006,\r\n        OverallScore: (this.item.value['overall:score'] || 0) * 100,\r\n        // FileContentBase64: this.item.fileContentBase64,\r\n        Comments: this.item['overall:comment'] || 'No comment',\r\n        OverallComment: this.item.value['overall:comment'] || null,\r\n        'Lessons Learnt': this.item.value['overall:comment'] || null,\r\n      })\r\n\r\n      console.log('data:scores', data);\r\n\r\n      this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending report to CRM. Establishing connection to CRM...'});\r\n\r\n\r\n      axios.post(\r\n        `/api/v1/crm/customers/save`, data\r\n      ).then(response => {\r\n        this.$store.dispatch('snackbar/hide')\r\n\r\n        if (response.data.Code == 1) {\r\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Successfully sent to CRM')})\r\n        } else {\r\n          this.$store.dispatch('dialog/error', {\r\n            show: true,\r\n            width: 400,\r\n            buttons: { cancel: { show: false } },\r\n            title: 'Returned a Code ' + response.data.Code,\r\n            text: response.data.Message,\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\r\n      })\r\n    },\r\n\r\n    sendDocumentToCrm () {\r\n      this.isSending = true;\r\n\r\n      let data = {\r\n        Id: _.toUpper(this.item.customer.token),\r\n        FileContentBase64: this.item.fileContentBase64,\r\n      }\r\n\r\n      this.$store.dispatch('snackbar/show', { icon: 'mdi-spin mdi-loading', button: { show: false }, timeout: 0, text: 'Sending Overall Report Document to CRM. Establishing connection to CRM...'});\r\n\r\n      axios.post(\r\n        $api.crm.sendDocument(), data\r\n      ).then(response => {\r\n        this.$store.dispatch('snackbar/hide')\r\n\r\n        if (response.data.Code == 1) {\r\n          this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('File Successfully sent to CRM')})\r\n        } else {\r\n          this.$store.dispatch('dialog/error', {\r\n            show: true,\r\n            width: 400,\r\n            buttons: { cancel: { show: false } },\r\n            title: 'Returned a Code ' + response.data.Code,\r\n            text: response.data.Message,\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        this.$store.dispatch('snackbar/show', { icon: false, timeout: 8000, button: {show: true}, text: trans('Unable to connect to CRM. Please check your network connection')})\r\n      }).finally(() => {\r\n        this.isSending = false;\r\n      });\r\n    },\r\n\r\n    sendBothDataToCrm () {\r\n      this.sendToCrm()\r\n      this.sendDocumentToCrm()\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./SendIndividualReportToCrmButton.vue?vue&type=template&id=b65debd4&\"\nimport script from \"./SendIndividualReportToCrmButton.vue?vue&type=script&lang=js&\"\nexport * from \"./SendIndividualReportToCrmButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n"],"sourceRoot":""}
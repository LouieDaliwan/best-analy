(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{299:function(t,e,r){"use strict";r.r(e);var o={data:function(){return{resource:{loading:!1,data:{}},url:null}},methods:{getReport:function(){var t=this;axios.get("/api/v1/reports/".concat(this.$route.params.report)).then((function(e){t.resource.data=e.data.data;var r=t.resource.data.value["current:index"].taxonomy.id||null,o=t.$route.query.type||"index";t.url="/best/preview/reports/".concat(t.$route.params.report,"?type=").concat(o,"&taxonomy_id=").concat(r)}))},goToSurveyPage:function(t){this.$router.push({name:"companies.response",query:{month:t.remarks},params:{id:this.$route.params.id,taxonomy:t.value["current:index"].taxonomy.id||null,survey:t.value["survey:id"]}})},downloadReport:function(){window.location.href="/reports/".concat(this.$route.params.report,"/download")},setIframeHeight:function(){this.resource.loading=!0,document.querySelector("iframe").addEventListener("load",(function(t){var e=this.contentWindow||this.contentDocument.parentWindow;e.document.body&&(this.height=e.document.documentElement.scrollHeight||e.document.body.scrollHeight)})),this.resource.loading=!1}},mounted:function(){this.setIframeHeight(),this.getReport()}},n=r(1),a=r(2),i=r.n(a),s=r(273),u=r(86),c=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("admin",[r("metatag",{attrs:{title:t.trans("Find Company")}}),t._v(" "),r("page-header",{attrs:{back:{to:{name:"companies.reports"},text:t.trans("Back to Reports")}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.trans("Report Preview")))]},proxy:!0},{key:"utilities",fn:function(){return[r("a",{staticClass:"dt-link text--decoration-none mr-4",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goToSurveyPage(t.resource.data)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-search")]),t._v(t._s(t.trans("View Survey")))],1)]},proxy:!0}])}),t._v(" "),t.resource.loading?[r("skeleton-show")]:[r("v-card",{attrs:{outlined:""}},[r("iframe",{attrs:{width:"100%",id:"iframe-preview",src:t.url,frameborder:"0"}})])]],2)}),[],!1,null,null,null);e.default=c.exports;i()(c,{VCard:s.a,VIcon:u.a})}}]);
//# sourceMappingURL=41.js.map
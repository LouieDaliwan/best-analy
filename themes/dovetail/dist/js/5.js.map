{"version":3,"sources":["webpack:///./src/modules/Customer/routes/api.js","webpack:///./src/modules/Customer/Show.vue?9c95","webpack:///./src/modules/Customer/cards/SkeletonShow.vue","webpack:///./src/modules/Customer/cards/SkeletonShow.vue?9f26","webpack:///./src/modules/Customer/cards/ExportReportButton.vue?0a1c","webpack:///src/modules/Customer/cards/ExportReportButton.vue","webpack:///./src/modules/Customer/cards/ExportReportButton.vue?6189","webpack:///./src/modules/Customer/cards/ExportReportButton.vue","webpack:///src/modules/Customer/Show.vue","webpack:///./src/modules/Customer/Show.vue?7f29","webpack:///./src/modules/Customer/Show.vue","webpack:///./src/modules/Survey/Models/Survey.js","webpack:///./node_modules/vuetify-loader/lib/runtime/installDirectives.js"],"names":["list","store","show","id","restore","update","trashed","destroy","delete","indices","surveys","submit","crm","search","component","_h","this","$createElement","_c","_self","attrs","to","name","text","trans","scopedSlots","_u","key","fn","proxy","_v","staticClass","VCol","VRow","VSkeletonLoader","props","computed","resourcesAreNotYetFinished","items","filter","item","methods","getDialogOptions","Object","assign","illustration","title","persistent","color","buttons","cancel","action","exportOverall","showDialog","customer_id","$route","params","axios","post","data","index","exportReport","taxonomy_id","serveFileToBrowser","link","href","window","URL","createObjectURL","blob","download","click","serveOverallFileToBrowser","_vm","ref","on","_g","$vuetify","breakpoint","smAndDown","_s","_l","resource","i","$event","domProps","VBtn","VIcon","VList","VListItem","VListItemContent","VListItemTitle","VMenu","components","ExportReportButton","SkeletonShow","resourcesIsNotEmpty","resourcesIsEmpty","_","isEmpty","loading","getResource","get","goToCompanySurveyPage","taxonomy","code","survey","mounted","class","smAndUp","metadata","directives","rawName","value","expression","staticStyle","_e","icon","__","VCard","VCardActions","VCardText","VSpacer","VTooltip","Ripple","Survey","isPrestine","isValid","errors","body","type","user_id","created","answer","fields","group","children","module","exports","options","extendOptions"],"mappings":"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","file":"dist/js/5.js","sourcesContent":["export default {\n  list: function () {\n    return '/api/v1/customers'\n  },\n\n  store: function () {\n    return '/api/v1/customers'\n  },\n\n  show: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  restore: function (id = null) {\n    return `/api/v1/customers/restore/${id}`\n  },\n\n  update: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  trashed: function () {\n    return '/api/v1/customers/trashed'\n  },\n\n  destroy: function (id = null) {\n    return `/api/v1/customers/${id}`\n  },\n\n  delete: function (id = null) {\n    return `/api/v1/customers/delete/${id}`\n  },\n\n  indices: {\n    list: function () {\n      return '/api/v1/indices'\n    },\n  },\n\n  surveys: {\n    submit: function (id) {\n      return `/api/v1/surveys/${id}/submit`\n    },\n\n    show: function (id) {\n      return `/api/v1/surveys/${id}`\n    },\n  },\n\n  crm: {\n    search: function (id) {\n      return `/api/v1/crm/customers/search/${id}`\n    },\n    update: function () {\n      return `/api/v1/crm/customers/update`\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('admin',[_c('metatag',{attrs:{\"title\":_vm.resource.data.name}}),_vm._v(\" \"),(_vm.resource.loading)?[_c('skeleton-show')]:[_c('page-header',{attrs:{\"back\":{ to: { name: 'companies.index' }, text: _vm.trans('Companies') }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{staticClass:\"mb-3\",class:_vm.$vuetify.breakpoint.smAndUp ? '' : 'title font-weight-bold'},[_vm._v(_vm._s(_vm.resource.data.name))]),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"py-0\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.trans('Staff Strength'))+\":\")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"py-0\"},[_c('p',{staticClass:\"mb-0 font-weight-regular\"},[_vm._v(\" \"+_vm._s(_vm.resource.data.metadata['staffstrength'] || null))])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"py-0\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.trans('Industry'))+\":\")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"py-0\"},[_c('p',{staticClass:\"mb-0 font-weight-regular\"},[_vm._v(\" \"+_vm._s(_vm.resource.data.metadata['industry'] || null))])])],1)]},proxy:true},{key:\"action\",fn:function(){return [_c('export-report-button',{attrs:{\"items\":_vm.resource.data.indices}})]},proxy:true}])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.resourcesIsNotEmpty),expression:\"resourcesIsNotEmpty\"}]},[_c('p',{staticClass:\"muted--text font-weight-regular\"},[_vm._v(\"\\n        \"+_vm._s(_vm.trans('Please select the type of survey evaluation that you would like to do for :name', {name: _vm.resource.data.name}))+\"\\n      \")]),_vm._v(\" \"),_c('v-row',_vm._l((_vm.resource.data.indices || []),function(resource,i){return _c('v-col',{key:i,attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-card',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:(_vm.$vuetify.breakpoint.smAndUp ? { class: 'primary--text' } : null),expression:\"$vuetify.breakpoint.smAndUp ? { class: 'primary--text' } : null\"}],staticClass:\"text-center card-carded\",attrs:{\"hover\":_vm.$vuetify.breakpoint.smAndUp,\"to\":_vm.$vuetify.breakpoint.smAndUp ? _vm.goToCompanySurveyPage(resource) : null,\"exact\":\"\",\"height\":\"100%\"}},[_c('v-card-text',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [(resource['is:finished'])?_c('div',_vm._g({staticStyle:{\"position\":\"absolute\"}},on),[_c('v-icon',{attrs:{\"color\":\"success\"}},[_vm._v(\"mdi-check-circle\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('You can now export the report')))])]),_vm._v(\" \"),_c('div',{staticClass:\"mb-4\"},[_c('img',{attrs:{\"height\":\"80\",\"src\":resource.icon,\"alt\":\"\"}})]),_vm._v(\" \"),_c('h4',{staticClass:\"mb-1 text-uppercase\",domProps:{\"textContent\":_vm._s(resource.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"text-uppercase muted--text\",domProps:{\"textContent\":_vm._s(('Performance Indexes'))}})],1),_vm._v(\" \"),(_vm.$vuetify.breakpoint.xsOnly)?_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"block\":\"\",\"large\":\"\",\"text\":\"\",\"color\":\"primary\",\"to\":_vm.goToCompanySurveyPage(resource),\"exact\":\"\"}},[_vm._v(_vm._s(_vm.__('Start Survey')))]),_vm._v(\" \"),_c('v-spacer')],1):_vm._e()],1)],1)}),1)],1),_vm._v(\" \"),(_vm.resourcesIsEmpty)?_c('div',[_c('empty-state',{scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"primary\",\"exact\":\"\",\"to\":{name: 'indices.create'}}},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-account-plus-outline\")]),_vm._v(\"\\n            \"+_vm._s(_vm.trans('Add Index'))+\"\\n          \")],1)]},proxy:true}],null,false,455405267)})],1):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SkeletonShow.vue?vue&type=template&id=2c482dff&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCol,VRow,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('page-header',{attrs:{\"back\":{ to: { name: 'companies.index' }, text: _vm.trans('Companies') }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('v-skeleton-loader',{attrs:{\"type\":\"text\"}})]},proxy:true},{key:\"action\",fn:function(){return [_c('v-skeleton-loader',{attrs:{\"type\":\"button\",\"height\":\"50\"}})]},proxy:true}])}),_vm._v(\" \"),_c('div',[_c('v-skeleton-loader',{staticClass:\"mb-4\",attrs:{\"type\":\"text\",\"width\":\"60%\"}}),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"height\":\"200\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"height\":\"200\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"height\":\"200\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"height\":\"200\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"open-on-hover\":\"\",\"offset-y\":\"\",\"bottom\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"block\":_vm.$vuetify.breakpoint.smAndDown,\"large\":\"\",\"color\":\"primary\"}},on),[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-download\")]),_vm._v(\"\\n      \"+_vm._s(_vm.trans('Export Reports'))+\"\\n    \")],1)]}}])},[_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\"}},[[_vm._l((_vm.items),function(resource,i){return _c('v-list-item',{key:i,attrs:{\"disabled\":!resource['is:finished']},on:{\"click\":function($event){return _vm.exportReport(resource)}}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(resource.name)}})],1)],1)}),_vm._v(\" \"),_c('v-list-item',{attrs:{\"disabled\":_vm.resourcesAreNotYetFinished},on:{\"click\":function($event){return _vm.exportOverall()}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.trans('Overall Reports')))])],1)],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-menu open-on-hover offset-y bottom transition=\"slide-y-transition\">\n    <template v-slot:activator=\"{ on }\">\n      <v-btn :block=\"$vuetify.breakpoint.smAndDown\" v-on=\"on\" large color=\"primary\">\n        <v-icon small left>mdi-download</v-icon>\n        {{ trans('Export Reports') }}\n      </v-btn>\n    </template>\n    <v-list dense>\n      <template>\n        <v-list-item\n          :disabled=\"!resource['is:finished']\"\n          v-for=\"(resource, i) in items\" :key=\"i\"\n          @click=\"exportReport(resource)\"\n          >\n          <v-list-item-content>\n            <v-list-item-title v-text=\"resource.name\"></v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item :disabled=\"resourcesAreNotYetFinished\" @click=\"exportOverall()\">\n          <v-list-item-content>\n            <v-list-item-title>{{ trans('Overall Reports') }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </template>\n    </v-list>\n  </v-menu>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  props: ['items'],\n\n  computed: {\n    resourcesAreNotYetFinished () {\n      return this.items.filter(function (item) {\n        return item['is:finished']\n      }).length !== this.items.length\n    },\n  },\n\n  methods: {\n    ...mapActions({\n      showDialog: 'dialog/show',\n      hideDialog: 'dialog/hide',\n    }),\n\n    getDialogOptions (options = {}) {\n      return Object.assign({\n        illustration: () => import('@/components/Icons/AnalysisIcon.vue'),\n        title: trans('Generating :name Report', {name: options.data.name}),\n        text: ['<i class=\"mdi mdi-spin mdi-loading mr-3\"></i> Retrieving performance index submission...'],\n        persistent: true,\n        color: 'primary',\n        buttons: {\n          cancel: { show: false },\n          action: { show: false },\n        },\n      }, options)\n    },\n\n    exportOverall () {\n      this.showDialog(this.getDialogOptions({data: {name: 'Overall'}}))\n\n      let data = {\n        customer_id: this.$route.params.id,\n      }\n\n      axios.post(\n        `/api/v1/reports/1/generate`, data\n      ).then(response => {\n        this.showDialog(this.getDialogOptions({\n          data: index,\n          text: ['<i class=\"mdi mdi-spin mdi-loading mr-3\"></i> Crunching survey data...'],\n        }))\n\n        this.serveOverallFileToBrowser(response.data, index)\n      })\n    },\n\n    exportReport (index) {\n      this.showDialog(this.getDialogOptions({data: index}))\n\n      let data = {\n        customer_id: this.$route.params.id,\n        taxonomy_id: index.id,\n      }\n\n      axios.post(\n        `/api/v1/reports/${index.survey.id}/generate`, data\n      ).then(response => {\n        this.showDialog(this.getDialogOptions({\n          data: index,\n          text: ['<i class=\"mdi mdi-spin mdi-loading mr-3\"></i> Crunching survey data...'],\n        }))\n\n        this.serveFileToBrowser(response.data, index)\n      })\n    },\n\n    serveFileToBrowser (data, index) {\n      data = Object.assign(data, {pcode: index.alias})\n\n      axios.post(\n        `/reports/download`, data, {\n          responseType: 'arraybuffer',\n        }\n      ).then(response => {\n        let blob = new Blob([response.data], { type: 'application/pdf' })\n        let link = document.createElement('a')\n        link.href = window.URL.createObjectURL(blob)\n        link.download = `${index.name} Report.pdf`\n        link.click()\n\n        this.hideDialog()\n      })\n    },\n\n    serveOverallFileToBrowser (data) {\n      data = Object.assign(data)\n\n      axios.post(\n        `/reports/download`, data, {\n          responseType: 'arraybuffer',\n        }\n      ).then(response => {\n        let blob = new Blob([response.data], { type: 'application/pdf' })\n        let link = document.createElement('a')\n        link.href = window.URL.createObjectURL(blob)\n        link.download = `Overall Report.pdf`\n        link.click()\n\n        this.hideDialog()\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportReportButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportReportButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportReportButton.vue?vue&type=template&id=140d46c6&\"\nimport script from \"./ExportReportButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportReportButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemContent,VListItemTitle,VMenu})\n","<template>\n  <admin>\n    <metatag :title=\"resource.data.name\"></metatag>\n\n    <template v-if=\"resource.loading\">\n      <skeleton-show></skeleton-show>\n    </template>\n\n    <template v-else>\n      <page-header :back=\"{ to: { name: 'companies.index' }, text: trans('Companies') }\">\n        <template v-slot:title>\n          <span :class=\"$vuetify.breakpoint.smAndUp ? '' : 'title font-weight-bold'\" class=\"mb-3\">{{ resource.data.name }}</span>\n          <v-row>\n            <v-col class=\"py-0\"><p class=\"mb-0\">{{ trans('Staff Strength') }}:</p></v-col>\n            <v-col class=\"py-0\"><p class=\"mb-0 font-weight-regular\"> {{ resource.data.metadata['staffstrength'] || null }}</p></v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\"><p class=\"mb-0\">{{ trans('Industry') }}:</p></v-col>\n            <v-col class=\"py-0\"><p class=\"mb-0 font-weight-regular\"> {{ resource.data.metadata['industry'] || null }}</p></v-col>\n          </v-row>\n        </template>\n\n        <template v-slot:action>\n          <!-- Export button -->\n          <export-report-button :items=\"resource.data.indices\"></export-report-button>\n          <!-- Export button -->\n        </template>\n      </page-header>\n\n      <div v-show=\"resourcesIsNotEmpty\">\n        <p class=\"muted--text font-weight-regular\">\n          {{ trans('Please select the type of survey evaluation that you would like to do for :name', {name: resource.data.name}) }}\n        </p>\n        <v-row>\n          <v-col cols=\"12\" sm=\"6\" v-for=\"(resource, i) in resource.data.indices || []\" :key=\"i\">\n            <v-card\n              :hover=\"$vuetify.breakpoint.smAndUp\"\n              :to=\"$vuetify.breakpoint.smAndUp ? goToCompanySurveyPage(resource) : null\"\n              class=\"text-center card-carded\"\n              exact\n              height=\"100%\"\n              v-ripple=\"$vuetify.breakpoint.smAndUp ? { class: 'primary--text' } : null\"\n              >\n              <v-card-text>\n                <!-- if report is generated -->\n                <v-tooltip bottom>\n                  <template v-slot:activator=\"{ on }\">\n                    <div v-if=\"resource['is:finished']\" v-on=\"on\" style=\"position: absolute;\">\n                      <v-icon color=\"success\">mdi-check-circle</v-icon>\n                    </div>\n                  </template>\n                  <span>{{ trans('You can now export the report') }}</span>\n                </v-tooltip>\n                <!-- if report is generated -->\n\n                <div class=\"mb-4\"><img height=\"80\" :src=\"resource.icon\" alt=\"\"></div>\n                <h4 class=\"mb-1 text-uppercase\" v-text=\"resource.name\"></h4>\n                <p class=\"text-uppercase muted--text\" v-text=\"('Performance Indexes')\"></p>\n              </v-card-text>\n              <v-card-actions v-if=\"$vuetify.breakpoint.xsOnly\">\n                <v-spacer></v-spacer>\n                <v-btn block large text color=\"primary\" :to=\"goToCompanySurveyPage(resource)\" exact>{{ __('Start Survey') }}</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </div>\n\n      <!-- Empty state -->\n      <div v-if=\"resourcesIsEmpty\">\n        <empty-state>\n          <template v-slot:actions>\n            <v-btn\n              large\n              color=\"primary\"\n              exact\n              :to=\"{name: 'indices.create'}\">\n              <v-icon small left>mdi-account-plus-outline</v-icon>\n              {{ trans('Add Index') }}\n            </v-btn>\n          </template>\n        </empty-state>\n      </div>\n      <!-- Empty state -->\n    </template>\n  </admin>\n</template>\n\n<script>\nimport $api from './routes/api'\nimport Survey from '@/modules/Survey/Models/Survey'\nimport SkeletonShow from './cards/SkeletonShow'\nimport ExportReportButton from './cards/ExportReportButton'\n\nexport default {\n  components: {\n    ExportReportButton,\n    SkeletonShow\n  },\n\n  computed: {\n    resourcesIsNotEmpty () {\n      return !this.resourcesIsEmpty\n    },\n\n    resourcesIsEmpty () {\n      return window._.isEmpty(this.resource.data) && !this.resource.loading\n    },\n  },\n\n  data: () => ({\n    api: $api,\n\n    resource: new Survey,\n\n    resources: {\n      data: []\n    }\n  }),\n\n  methods: {\n    getResource () {\n      this.resource.loading = true\n      axios.get(\n        $api.show(this.$route.params.id)\n      ).then(response => {\n        this.resource.data = response.data.data\n      }).finally(() => { this.resource.loading = false })\n    },\n\n    goToCompanySurveyPage (index) {\n      const company = this.$route.params.id\n      return {\n        name: 'companies.survey', params: {\n          id: company,\n          taxonomy: index.code,\n          survey: index.survey && index.survey.id  || null,\n        }\n      }\n    },\n  },\n\n  mounted () {\n    this.getResource()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--13-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=45b3ca8c&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VIcon,VRow,VSpacer,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","class Survey {\n  constructor () {\n    this.loading = false\n    this.isPrestine = true\n    this.isValid = true\n    this.errors = []\n\n    this.data = {\n      title: '',\n      code: '',\n      body: '',\n      metadata: '',\n      type: '',\n      user_id: '',\n      created: '',\n      indices: [],\n      answer: '',\n      fields: [\n        {\n          group: '',\n          type: '',\n          children: [],\n        }\n      ]\n    }\n  }\n}\n\nexport default Survey\n","// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installDirectives (component, directives) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.directives = component.exports.options.directives\n  }\n\n  options.directives = options.directives || {}\n\n  for (var i in directives) {\n    options.directives[i] = options.directives[i] || directives[i]\n  }\n}\n"],"sourceRoot":""}